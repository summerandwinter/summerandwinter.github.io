<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>学习Mac命令行 | Winter`s Notes</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="canonical" href="https://summerandwinter.github.io/learn-the-command-line.html"><meta name="description" content="介绍一些Mac命令行学习过程中入门的基本知识"><meta name="keywords" content="cmd"><meta property="og:type" content="article"><meta property="og:title" content="学习Mac命令行"><meta property="og:url" content="https://summerandwinter.github.io/learn-the-command-line.html"><meta property="og:site_name" content="Winter`s Notes"><meta property="og:description" content="介绍一些Mac命令行学习过程中入门的基本知识"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2019-11-28T08:58:49.415Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="学习Mac命令行"><meta name="twitter:description" content="介绍一些Mac命令行学习过程中入门的基本知识"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/css/gitment.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/css/article.css"></head></html><body><div id="container"><div id="wrap"><header id="header" class="header"><nav id="main-nav" class="main-nav"> <a class="main-nav-link" href="/">主页</a> <a class="main-nav-link" href="/archives">归档</a> <a class="main-nav-link" href="/category">分类</a> <a class="main-nav-link" href="/tag">标签</a></nav><nav id="sub-nav"></nav></header><div class="outer"><section id="main"><div class="article-container"><article id="post-learn-the-command-line" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name"> 学习Mac命令行</h1></header><div class="article-entry typo" itemprop="articleBody"><h1 id="文件系统导航"><a href="#文件系统导航" class="headerlink" title="文件系统导航"></a>文件系统导航</h1><ul><li><code>ls</code> 列出当前工作目录下所有的文件和文件夹</li><li><code>ls -a</code> 列出所有文件，包括隐藏的文件和文件夹</li><li><code>ls -l</code> 列出完整信息（long format）</li><li><code>ls -t</code> 根据最后修改时间排序</li><li><code>pwd</code> 打印当前工作目录(print working directory)</li><li><code>cd</code> 切换当前目录(change directory)</li><li><code>cd ..</code> 返回上一级目录</li></ul><h1 id="文件系统操作"><a href="#文件系统操作" class="headerlink" title="文件系统操作"></a>文件系统操作</h1><ul><li><code>mkdir</code>代表创建目录(make directory)</li><li><code>touch</code> 创建文件</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">touch file.txt</span><br></pre></td></tr></table></figure><ul><li><code>cp</code> 拷贝文件或文件夹</li></ul><p>拷贝文件到文件<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cp source.txt target.txt</span><br></pre></td></tr></table></figure><p></p><p>拷贝文件到文件夹<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cp <span class="built_in">source</span>/file.txt target/</span><br></pre></td></tr></table></figure><p></p><p>拷贝多个文件<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cp <span class="built_in">source</span>/file.txt <span class="built_in">source</span>/file2.txt target/</span><br></pre></td></tr></table></figure><p></p><p>拷贝所有文件<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cp * target/</span><br></pre></td></tr></table></figure><p></p><p>拷贝以所有m开头的.txt文件<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cp m*.txt target/</span><br></pre></td></tr></table></figure><p></p><ul><li><code>mv</code> 移动文件或文件夹</li></ul><p>移动文件到文件夹<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv file.txt target/</span><br></pre></td></tr></table></figure><p></p><p>移动多个文件到文件夹<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv file1.txt file2.txt target/</span><br></pre></td></tr></table></figure><p></p><p>移动文件到文件<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv source.txt target.txt</span><br></pre></td></tr></table></figure><p></p><ul><li><code>rm</code> 删除文件</li></ul><p>删除单个文件<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rm file.txt</span><br></pre></td></tr></table></figure><p></p><ul><li><code>rm -r</code> 删除文件夹</li></ul><p><code>r</code> 表示迭代（recursive）</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rm -r directory</span><br></pre></td></tr></table></figure><blockquote><p><code>rm</code>会把文件和文件夹彻底删除，系统没有没有恢复文件的命令，请谨慎使用该命令。</p></blockquote><h1 id="输入输出重定向"><a href="#输入输出重定向" class="headerlink" title="输入输出重定向"></a>输入输出重定向</h1><p>标准输入（standard input），缩写形式为<code>stdin</code>，是指通过键盘或其他输入设备输入到终端的信息。<br>标准输出（standard output），缩写形式为<code>stdout</code>，是指程序运行后输出的信息。<br>标准错误（standard error），缩写形式为<code>stderr</code>，是指程序运行失败时输出的错误信息。</p><ul><li><code>&gt;</code> 重定向标准输出到文件（覆盖）</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"Hello"</span></span><br></pre></td></tr></table></figure><p><code>echo</code>命令接收字符串”Hello”作为标准输入，把接收到的字符串作为标准输出打印到终端。<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"Hello"</span> &gt; hello.txt</span><br></pre></td></tr></table></figure><p></p><p><code>&gt;</code>把<code>echo</code>命令本应打印到终端的输出重定向到hello.txt文件</p><p>执行下面的命令<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat hello.txt</span><br></pre></td></tr></table></figure><p></p><p><code>cat</code> 把文件的内容输出到终端<br>可以看到已经把字符串”Hello”输出到hello.txt文件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat source.txt &gt; target.txt</span><br></pre></td></tr></table></figure><p><code>&gt;</code>把<code>cat</code>命令本应打印到终端的输出重定向到 target.txt 文件</p><ul><li><code>&gt;&gt;</code> 重定向标准输出到文件（追加）</li></ul><p><code>&gt;&gt;</code>命令的用法与<code>&gt;</code>相同，区别在于<code>&gt;</code>会覆盖原有的内容，而<code>&gt;&gt;</code>是在原有内容的末尾追加内容</p><ul><li><code>&lt;</code> 重定向标准输入到命令</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat &lt; file.txt</span><br></pre></td></tr></table></figure><p><code>&lt;</code> 把右边的文件作为标准输入输入给左边的程序。这里<code>lakes.txt</code> 作为 <code>cat</code>命令的标准输入。</p><ul><li><code>|</code> 重定向标准输出到命令</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat volcanoes.txt | wc</span><br></pre></td></tr></table></figure><p>可以把 <code>|</code> 理解为一个管道，把左边命令的标准输出作为右边命令的标准输入传递给右边的命令，可以理解为命令都命令的重定向。这里<code>cat volcanoes.txt</code>的标准输出是<code>wc</code>的标准输入<br><code>wc</code> 命令的作用是分别列出内容种的行数，字数和字符数</p><p>多个<code>|</code>和<code>&gt;</code>可以组合使用<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat file1.txt | wc | cat &gt; file2.txt</span><br></pre></td></tr></table></figure><p></p><p>这里 <code>cat file1.txt</code> 的标准输出通过管道传递给 <code>wc</code> 命令, <code>wc</code> 的标准输出传递给 <code>cat</code> ,最后 <code>cat</code> 的标准输出重定向到 <code>file2.txt</code></p><ul><li><code>sort</code> 按每行的字母排序</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sort file.txt</span><br></pre></td></tr></table></figure><p><code>sort</code> 接收标准输入并为标准输出按字母排序</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat file.txt | sort &gt; sorted-file.txt</span><br></pre></td></tr></table></figure><p>从 <code>file.txt</code> 中接收标准输入通过管道传递到 <code>sort</code> ，重定向 <code>sort</code> 的标准输出到 <code>sorted-file.txt</code>文件</p><ul><li><code>uniq</code> 过滤相邻的重复行</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">uniq file.txt</span><br></pre></td></tr></table></figure><p><code>uniq</code> 代表 “unique”，过滤文件中相邻的重复行<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sort file.txt | uniq</span><br></pre></td></tr></table></figure><p></p><p>由于 <code>uniq</code> 只过滤相邻的重复行，要实现过来所有的重复行可以先用 <code>sort</code> 命令按字母排序。<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sort file.txt | uniq &gt; uniq-file.txt</span><br></pre></td></tr></table></figure><p></p><p>上面的命令实现过滤 <code>file.txt</code> 文件中所有的重复行，并输出到 <code>uniq-file.txt</code> 文件。</p><ul><li><code>grep</code> 根据表达式搜索文本</li></ul><p><code>grep</code> 是global regular expression print的首字母缩写，搜索文件中与表达式匹配的行，并返回结果。<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep Keyword file.txt</span><br></pre></td></tr></table></figure><p></p><p>这里搜索file.txt文件中包含’Keyword’关键字的行<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -i Keyword file.txt</span><br></pre></td></tr></table></figure><p></p><p><code>grep -i</code> 允许搜索时大小写不敏感，默认是大小写敏感的。<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -R Keyword /home/cuser/workspace/commandline</span><br></pre></td></tr></table></figure><p></p><p><code>grep -R</code> 搜索目录下所有文件，输出包含匹配关键字的文件的文件名和匹配的行，<code>-R</code>代表迭代（recursive）。<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -Rl Keyword /home/cuser/workspace/commandline</span><br></pre></td></tr></table></figure><p></p><p><code>grep -Rl</code> 搜索目录下所有文件，只输出包含匹配关键字的文件的文件名</p><ul><li><code>sed</code> 根据表达式搜索修改文本并输出</li></ul><p><code>sed</code> 代表 “stream editor”，接收标准输入并在显示前根据表达式修改内容，类似于我们熟知的“查找替换”。<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sed <span class="string">'s/wordtofind/replacement/'</span> file.txt</span><br></pre></td></tr></table></figure><p></p><ul><li><code>s</code>: 代表 “substitution”。使用 <code>sed</code> 命令的必选参数。</li><li><code>wordtofind</code>: 需要被替换的字符串</li><li><code>replacement</code>: 用来替换的字符串</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sed <span class="string">'s/wordtofind/replacement/g'</span> file.txt</span><br></pre></td></tr></table></figure><p>上面的命令用到了<code>g</code>表达式，代表”global”,文件种所有的wordtofind都会被替换成replacement。</p><h1 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h1><p>命令行会自动识别home目录下的<code>.bash_profile</code>文件作为bash描述文件</p><p>在终端种执行下面的命令编辑描述文件<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nano ~/.bash_profile</span><br></pre></td></tr></table></figure><p></p><p>下面解释下每个命令的作用：</p><ul><li><code>nano</code> 用nano编辑器编辑文件</li><li><code>~</code> 表示home目录</li><li><code>.</code> 表示隐藏的文件</li><li><code>~/.bash_profile</code> 代表命令行的描述文件</li></ul><p>在<code>~/.bash_profile</code>文件中加入下面的代码</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"Welcome, Winter"</span></span><br><span class="line"><span class="built_in">alias</span> pd=<span class="string">"pwd"</span></span><br><span class="line"><span class="built_in">export</span> USER=<span class="string">"Winter"</span></span><br><span class="line"><span class="built_in">export</span> PS1=<span class="string">"&gt;&gt;"</span></span><br></pre></td></tr></table></figure><p>然后执行下面的命令使修改在当前会话中立即生效<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure><p></p><p>下面是对代码的解释</p><ul><li><code>echo</code>　在终端输出文字</li><li><code>alias</code> 设置命令的别名，这里用<code>pd</code>作为<code>pwd</code>的别名，修改生效后输入<code>pd</code>能达到跟<code>pwd</code>命令相同的效果</li><li><code>export</code>　使设置的变量在当前会话发起的子会话中可访问</li></ul><p>可以用<code>env</code>命令查看当前会话的环境变量<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">env</span><br></pre></td></tr></table></figure><p></p><p>查看名称或值中含<code>PATH</code>的环境变量<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">env | grep PATH</span><br></pre></td></tr></table></figure><p></p><p>下面是一些常用的环境变量</p><ul><li><code>USER</code> 当前用户的用户名</li><li><code>PS1</code> 命令提示符</li><li><code>HOME</code> home目录，通常情况下无需自定义</li><li><code>PATH</code> 可执行脚本的存放路径，多个路径以冒号隔开，</li></ul><div class="end-of-file">END</div></div><footer class="article-footer"><ul class="article-meta"><li> <span class="label">发布:</span> <a href="/learn-the-command-line.html" class="article-date"><time datetime="2016-12-10T11:23:55.000Z" itemprop="datePublished">2016-12-10</time></a></li><li> <span class="label">分类:</span><div class="article-category"> <a class="article-category-link" href="/category/命令行/">命令行</a></div></li><li> <span class="label">标签:</span><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tag/cmd/">cmd</a></li></ul></li><hr></ul></footer></div><nav id="article-nav" class="article-nav"> <a href="/learn-git.html" id="article-nav-newer" class="article-nav-link-wrap newer"><strong class="article-nav-caption">上一篇</strong><div class="article-nav-title"> 学习Git</div></a> <a href="/hexo-optimize-seo.html" id="article-nav-older" class="article-nav-link-wrap older"><strong class="article-nav-caption">下一篇</strong><div class="article-nav-title">Hexo优化方案 搜索引擎优化</div></a></nav></article><aside id="article-toc" role="navigation" class="article-toc"><div id="article-toc-inner"> <strong class="sidebar-title">目录</strong><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#文件系统导航"><span class="toc-text">文件系统导航</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#文件系统操作"><span class="toc-text">文件系统操作</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#输入输出重定向"><span class="toc-text">输入输出重定向</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#环境配置"><span class="toc-text">环境配置</span></a></li></ol> <a href="#" id="article-toc-top">回到顶部</a></div></aside><section id="gitment_ccomments" class="comments"><div id="gitment_container"></div></section></div></section></div><footer id="footer" class="post-footer footer"><div id="footerContent" class="footer-content"><div class="end-of-file">Live Happy Love Hard</div></div></footer></div><script src="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/js/gitment.js"></script><script>var date="Sat Dec 10 2016 11:23:55 GMT+0000",id=""+new Date(date).getTime(),gitment=new Gitment({id:id,owner:"summerandwinter",repo:"summerandwinter.github.io",oauth:{client_id:"7b432b7b46e71966fd88",client_secret:"2c697bec7b012bca975de41c87863d84086f8d81"}});gitment.render("gitment_container")</script><script src="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/js/summer.js"></script><!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]--></div></body>