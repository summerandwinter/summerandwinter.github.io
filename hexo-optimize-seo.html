<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>Hexo优化方案 搜索引擎优化 | Winter`s Notes</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="canonical" href="https://summerandwinter.github.io/hexo-optimize-seo.html"><meta name="description" content="前面介绍了优化博客本身的页面优化（压缩页面减少请求大小），这里介绍下博客的SEO(搜索引擎优化)。"><meta name="keywords" content="Hexo,Hexo优化,SEO"><meta property="og:type" content="article"><meta property="og:title" content="Hexo优化方案 搜索引擎优化"><meta property="og:url" content="https://summerandwinter.github.io/hexo-optimize-seo.html"><meta property="og:site_name" content="Winter`s Notes"><meta property="og:description" content="前面介绍了优化博客本身的页面优化（压缩页面减少请求大小），这里介绍下博客的SEO(搜索引擎优化)。"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2019-11-28T08:58:49.415Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Hexo优化方案 搜索引擎优化"><meta name="twitter:description" content="前面介绍了优化博客本身的页面优化（压缩页面减少请求大小），这里介绍下博客的SEO(搜索引擎优化)。"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/css/gitment.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/css/article.css"></head></html><body><div id="container"><div id="wrap"><header id="header" class="header"><nav id="main-nav" class="main-nav"> <a class="main-nav-link" href="/">主页</a> <a class="main-nav-link" href="/archives">归档</a> <a class="main-nav-link" href="/category">分类</a> <a class="main-nav-link" href="/tag">标签</a></nav><nav id="sub-nav"></nav></header><div class="outer"><section id="main"><div class="article-container"><article id="post-hexo-optimize-seo" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name"> Hexo优化方案 搜索引擎优化</h1></header><div class="article-entry typo" itemprop="articleBody"><p>前面介绍了优化博客本身的页面优化（压缩页面减少请求大小），这里介绍下博客的SEO(搜索引擎优化)。<br><a id="more"></a></p><h1 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h1><p>找到主题模板文件的head部分,在<code>title</code>标签中加上自定义的关键字。</p><p>我的在<code>post/head.ejs</code>目录</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;title&gt;&lt;% if (title)&#123; %&gt;&lt;%= title %&gt; | &lt;% &#125; %&gt;&lt;%= config.title %&gt;&lt;/title&gt;</span><br></pre></td></tr></table></figure><p>改成</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;title&gt;&lt;% if (title)&#123; %&gt;&lt;%= title %&gt; | &lt;% &#125; %&gt;&lt;%= config.title %&gt; &lt;% if (theme.description)&#123; %&gt;-&lt;%= theme.description %&gt; &lt;% &#125; %&gt; &lt;/title&gt;</span><br></pre></td></tr></table></figure><p>然后在主题配置文件<code>_config.yml</code>中加入<br></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">description:</span> <span class="string">"你的关键词"</span></span><br></pre></td></tr></table></figure><p></p><h1 id="外部链接"><a href="#外部链接" class="headerlink" title="外部链接"></a>外部链接</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>nofollow是HTML元标签(meta)的content属性和链接标签(a)的rel属性的一个值，告诉机器(爬虫)无需追踪目标页，为了对抗blogspam(博客垃圾留言信息)，Google推荐使用nofollow，告诉搜索引擎爬虫无需抓取目标页，同时告诉搜索引擎无需将的当前页的Pagerank传递到目标页。但是如果你是通过sitemap直接提交该页面，爬虫还是会爬取，这里的nofollow只是当前页对目标页的一种态度，并不代表其他页对目标页的态度。</p><h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><p>1.防止不可信的内容，最常见的是博客上的垃圾留言与评论中为了获取外链的垃圾链接，为了防止页面指向一些拉圾页面和站点。<br>2.付费链接：为了防止付费链接影响Google的搜索结果排名，Google建议使用nofollow属性。<br>3.引导爬虫抓取有效的页面：避免爬虫抓取一些无意义的页面，影响爬虫抓取的效率。</p><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><ul><li>给所有外部链接加上<code>rel=&quot;external nofollow&quot;</code>属性</li><li>外部链接target=”_blank”在新窗口种打开外部链接</li></ul><h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><p><strong>安装插件</strong><br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-autonofollow --save</span><br></pre></td></tr></table></figure><p></p><p><strong>配置</strong><br>编辑站点目录下的<code>_config.yml</code>，添加<br></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">nofollow:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">sanyecao.me</span></span><br></pre></td></tr></table></figure><p></p><ul><li>enable - 开启插件，默认为false</li><li>exclude - 豁免域名（不加nofollow标签的域名）</li></ul><h1 id="标准链接"><a href="#标准链接" class="headerlink" title="标准链接"></a>标准链接</h1><h2 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h2><p>canonical 是 Google、雅虎、微软等搜索引擎一起推出的一个标签，它的主要作用是用来解决由于网址形式不同内容相同而造成的内容重复问题。这个标签对搜索引擎作用非常大，简单的说它可以让搜索引擎只抓取你想要强调的内容。</p><h2 id="实现-1"><a href="#实现-1" class="headerlink" title="实现"></a>实现</h2><p>在主题目录种找到关于head的模板在<code>&lt;head&gt;</code>之间加入<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;% </span><br><span class="line">   var base_url = config.url;</span><br><span class="line">   if (config.url.charAt(config.url.length - 1) !== &apos;/&apos;) base_url += &apos;/&apos;;</span><br><span class="line">   var canonical_url = base_url + page.canonical_path.replace(&apos;index.html&apos;, &apos;&apos;);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;link rel=&quot;canonical&quot; href=&quot;&lt;%= canonical_url %&gt;&quot;&gt;</span><br></pre></td></tr></table></figure><p></p><blockquote><p>PS:这里给出的代码是ejs方式，其他方式需要修改表达式，有<a href="https://github.com/HyunSeob/hexo-auto-canonical" title="hexo-auto-canonical" target="_blank" rel="noopener">插件</a>的可以实现这个功能，但是个人觉得太麻烦，所以直接参考插件在主题里实现了。</p></blockquote><h1 id="网络爬虫"><a href="#网络爬虫" class="headerlink" title="网络爬虫"></a>网络爬虫</h1><p>robots.txt是一种存放于网站根目录下的ASCII编码的文本文件，它的作用是告诉搜索引擎此网站中哪些内容是可以被爬取的，哪些是禁止爬取的。robots.txt应该放在站点目录下的source文件中，网站生成后在网站的根目录(站点目录/public/)下。</p><p>我的robots.txt文件内容如下<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Allow: /</span><br><span class="line">Allow: /archives/</span><br><span class="line">Allow: /categories/</span><br><span class="line">Allow: /about/</span><br><span class="line">Allow: /lab/</span><br><span class="line"></span><br><span class="line">Disallow: /js/</span><br><span class="line">Disallow: /css/</span><br></pre></td></tr></table></figure><p></p><h1 id="站点地图"><a href="#站点地图" class="headerlink" title="站点地图"></a>站点地图</h1><p>Sitemap即网站地图，它的作用在于便于搜索引擎更加智能地抓取网站。最简单和常见的sitemap形式，是XML文件，在其中列出网站中的网址以及关于每个网址的其他元数据（上次更新时间、更新的频率及相对其他网址重要程度等）。</p><h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>编辑站点目录下的_config.yml，添加<br></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># sitemap网站地图</span></span><br><span class="line"><span class="attr">sitemap:</span></span><br><span class="line"><span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br><span class="line"><span class="comment"># baidu stimap</span></span><br><span class="line"><span class="attr">baidusitemap:</span></span><br><span class="line"><span class="attr">path:</span> <span class="string">baidusitemap.xml</span></span><br></pre></td></tr></table></figure><p></p><p>在robots.txt文件中添加<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Sitemap: https://summerandwinter.github.io/sitemap.xml</span><br><span class="line">Sitemap: https://summerandwinter.github.io/baidusitemap.xml</span><br></pre></td></tr></table></figure><p></p><h1 id="提交链接"><a href="#提交链接" class="headerlink" title="提交链接"></a>提交链接</h1><p>由于Github禁止百度爬虫访问博客，导致博客无法被百度收录。对于把Hexo部署在GitHub Pages上的用户来说，上面的sitemap和robots.txt都是无效的，只能通过主动提交链接的方式来实现。</p><p>首先，在Hexo根目录下，安装插件：<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></table></figure><p></p><p>然后，同样在根目录下，把以下内容配置到_config.yml文件中:<br></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">baidu_url_submit:</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">3</span> <span class="comment">## 比如3，代表提交最新的三个链接</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">sanyecao.me</span> <span class="comment">## 在百度站长平台中注册的域名</span></span><br><span class="line">  <span class="attr">token:</span> <span class="string">your_token</span> <span class="comment">## 请注意这是您的秘钥， 请不要发布在公众仓库里!</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">baidu_urls.txt</span> <span class="comment">## 文本文档的地址， 新链接会保存在此文本文档里</span></span><br></pre></td></tr></table></figure><p></p><p>其次，记得查看_config.ym文件中url的值， 必须包含是百度站长平台注册的域名（一般有www）， 比如:<br></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://summerandwinter.github.io</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:title.html</span></span><br></pre></td></tr></table></figure><p></p><p>最后，加入新的deployer:<br></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">type:</span> <span class="string">baidu_url_submitter</span></span><br></pre></td></tr></table></figure><p></p><p>执行hexo deploy的时候，新的连接就会被推送了。</p><p>实现原理</p><p>推送功能的实现，分为两部分：<br>新链接的产生， hexo generate 会产生一个文本文件，里面包含最新的链接<br>新链接的提交， hexo deploy 会从上述文件中读取链接，提交至百度搜索引擎<br>[参考链接][reference]<br>[reference]: <a href="http://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/" target="_blank" rel="noopener">http://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/</a> “Hexo插件之百度主动提交链接”</p><div class="end-of-file">END</div></div><footer class="article-footer"><ul class="article-meta"><li> <span class="label">发布:</span> <a href="/hexo-optimize-seo.html" class="article-date"><time datetime="2016-11-25T11:25:46.000Z" itemprop="datePublished">2016-11-25</time></a></li><li> <span class="label">分类:</span><div class="article-category"> <a class="article-category-link" href="/category/Hexo/">Hexo</a></div></li><li> <span class="label">标签:</span><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tag/Hexo/">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tag/Hexo优化/">Hexo优化</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tag/SEO/">SEO</a></li></ul></li><hr></ul></footer></div><nav id="article-nav" class="article-nav"> <a href="/learn-the-command-line.html" id="article-nav-newer" class="article-nav-link-wrap newer"><strong class="article-nav-caption">上一篇</strong><div class="article-nav-title"> 学习Mac命令行</div></a> <a href="/hexo-minify-two.html" id="article-nav-older" class="article-nav-link-wrap older"><strong class="article-nav-caption">下一篇</strong><div class="article-nav-title">Hexo优化方案 Hexo插件静态资源压缩</div></a></nav></article><aside id="article-toc" role="navigation" class="article-toc"><div id="article-toc-inner"> <strong class="sidebar-title">目录</strong><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#关键字"><span class="toc-text">关键字</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#外部链接"><span class="toc-text">外部链接</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#介绍"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#作用"><span class="toc-text">作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#方法"><span class="toc-text">方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实现"><span class="toc-text">实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#标准链接"><span class="toc-text">标准链接</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#介绍-1"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实现-1"><span class="toc-text">实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#网络爬虫"><span class="toc-text">网络爬虫</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#站点地图"><span class="toc-text">站点地图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#插件"><span class="toc-text">插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置"><span class="toc-text">配置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#提交链接"><span class="toc-text">提交链接</span></a></li></ol> <a href="#" id="article-toc-top">回到顶部</a></div></aside><section id="gitment_ccomments" class="comments"><div id="gitment_container"></div></section></div></section></div><footer id="footer" class="post-footer footer"><div id="footerContent" class="footer-content"><div class="end-of-file">Live Happy Love Hard</div></div></footer></div><script src="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/js/gitment.js"></script><script>var date="Fri Nov 25 2016 11:25:46 GMT+0000",id=""+new Date(date).getTime(),gitment=new Gitment({id:id,owner:"summerandwinter",repo:"summerandwinter.github.io",oauth:{client_id:"7b432b7b46e71966fd88",client_secret:"2c697bec7b012bca975de41c87863d84086f8d81"}});gitment.render("gitment_container")</script><script src="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/js/summer.js"></script><!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]--></div></body>