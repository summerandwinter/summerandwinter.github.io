<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>Mac 环境下部署gerrit并与gitlab集成 | Winter`s Notes</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="canonical" href="https://summerandwinter.github.io/mac-gerrit-gitlab.html"><meta name="description" content="环境系统 macOS Mojave 版本 10.14.1 jdk java -versionjava version &quot;1.8.0_131&quot;Java(TM) SE Runtime Environment (build 1.8.0_131-b11)Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode) nginx nginx"><meta name="keywords" content="Mac,gerrit,gitlab"><meta property="og:type" content="article"><meta property="og:title" content="Mac 环境下部署gerrit并与gitlab集成"><meta property="og:url" content="https://summerandwinter.github.io/mac-gerrit-gitlab.html"><meta property="og:site_name" content="Winter`s Notes"><meta property="og:description" content="环境系统 macOS Mojave 版本 10.14.1 jdk java -versionjava version &quot;1.8.0_131&quot;Java(TM) SE Runtime Environment (build 1.8.0_131-b11)Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode) nginx nginx"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/assets/images/articles/gerrit_configuration_error.jpg"><meta property="og:updated_time" content="2019-11-28T08:58:49.415Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Mac 环境下部署gerrit并与gitlab集成"><meta name="twitter:description" content="环境系统 macOS Mojave 版本 10.14.1 jdk java -versionjava version &quot;1.8.0_131&quot;Java(TM) SE Runtime Environment (build 1.8.0_131-b11)Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode) nginx nginx"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/assets/images/articles/gerrit_configuration_error.jpg"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/css/gitment.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/css/article.css"></head></html><body><div id="container"><div id="wrap"><header id="header" class="header"><nav id="main-nav" class="main-nav"> <a class="main-nav-link" href="/">主页</a> <a class="main-nav-link" href="/archives">归档</a> <a class="main-nav-link" href="/category">分类</a> <a class="main-nav-link" href="/tag">标签</a></nav><nav id="sub-nav"></nav></header><div class="outer"><section id="main"><div class="article-container"><article id="post-mac-gerrit-gitlab" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name"> Mac 环境下部署gerrit并与gitlab集成</h1></header><div class="article-entry typo" itemprop="articleBody"><h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><p>系统 macOS Mojave 版本 10.14.1</p><p>jdk</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">java -version</span><br><span class="line">java version <span class="string">"1.8.0_131"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_131-b11)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)</span><br></pre></td></tr></table></figure><p>nginx</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nginx -v</span><br><span class="line">nginx version: nginx/1.15.6</span><br></pre></td></tr></table></figure><p>git</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git version</span><br><span class="line">git version 2.17.2 (Apple Git-113)</span><br></pre></td></tr></table></figure><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>从<a href="https://www.gerritcodereview.com/" target="_blank" rel="noopener">官网</a>上下载 war 包，本章节使用的是 2.16.1版本。</p><p>存放目录： /Users/summer/</p><p>安装目录：/Users/summer/review_site</p><p>进入存放目录执行</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">java -jar gerrit.war init --batch -d review_site</span><br><span class="line">[2018-12-21 15:27:41,819] [main] INFO  com.google.gerrit.server.config.GerritServerConfigProvider : No /Users/summer/env/gerrit/review_site/etc/gerrit.config; assuming defaults</span><br><span class="line">Generating SSH host key ... rsa... ed25519... ecdsa 256... ecdsa 384... ecdsa 521... <span class="keyword">done</span></span><br><span class="line">Initialized /Users/summer/env/gerrit/review_site</span><br><span class="line">Reindexing projects:    100% (2/2)</span><br><span class="line">Reindexed 2 documents <span class="keyword">in</span> projects index <span class="keyword">in</span> 0.0s (44.4/s)</span><br><span class="line">Executing /Users/summer/env/gerrit/review_site/bin/gerrit.sh start</span><br><span class="line">Starting Gerrit Code Review: FAILED</span><br><span class="line">error: cannot start Gerrit: <span class="built_in">exit</span> status 1</span><br></pre></td></tr></table></figure><p>进入 /Users/summer/review_site/etc 目录，配置 gerrit.config</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[gerrit]</span><br><span class="line">	basePath = git</span><br><span class="line">	serverId = fa24d954-f249-4626-a0a8-3da22d50ab85</span><br><span class="line">	canonicalWebUrl = http://gerrit.bmsoft.com</span><br><span class="line">[database]</span><br><span class="line">	<span class="built_in">type</span> = h2</span><br><span class="line">	database = /Users/summer/env/gerrit/review_site/db/ReviewDB</span><br><span class="line">[container]</span><br><span class="line">	javaOptions = <span class="string">"-Dflogger.backend_factory=com.google.common.flogger.backend.log4j.Log4jBackendFactory#getInstance"</span></span><br><span class="line">	javaOptions = <span class="string">"-Dflogger.logging_context=com.google.gerrit.server.logging.LoggingContext#getInstance"</span></span><br><span class="line">	user = summer</span><br><span class="line">	javaHome = /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre</span><br><span class="line">[index]</span><br><span class="line">	<span class="built_in">type</span> = LUCENE</span><br><span class="line">[auth]</span><br><span class="line">	<span class="built_in">type</span> = HTTP </span><br><span class="line">[receive]</span><br><span class="line">	enableSignedPush = <span class="literal">false</span></span><br><span class="line">[sendemail]</span><br><span class="line">	smtpServer = localhost</span><br><span class="line">[sshd]</span><br><span class="line">	listenAddress = *:29418</span><br><span class="line">[httpd]</span><br><span class="line">	listenUrl = http://*:8081/</span><br><span class="line">[cache]</span><br><span class="line">	directory = cache</span><br><span class="line">[plugins]</span><br><span class="line">	allowRemoteAdmin = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>启动 gerrit 服务</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sh ~/review_site/bin/gerrit.sh start</span><br></pre></td></tr></table></figure><p>启动成功后访问 <a href="http://localhost:8081" target="_blank" rel="noopener">http://localhost:8081</a></p><p><img src="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/assets/images/articles/gerrit_configuration_error.jpg" alt></p><h2 id="修改认证方式和反向代理"><a href="#修改认证方式和反向代理" class="headerlink" title="修改认证方式和反向代理"></a>修改认证方式和反向代理</h2><p>进入 /Users/summer/review_site/etc 目录，新建 passwd 文件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">touch passwd</span><br></pre></td></tr></table></figure><p>添加账号密码</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">htpasswd -b passwd admin admin</span><br></pre></td></tr></table></figure><p>修改 nginx 配置文件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">      listen 80;</span><br><span class="line">      server_name gerrit.summer.com;</span><br><span class="line"></span><br><span class="line">      location ^~ / &#123;</span><br><span class="line">            auth_basic <span class="string">"Restricted"</span>;</span><br><span class="line">            auth_basic_user_file  /Users/summer/review_site/etc/passwd;</span><br><span class="line">        	proxy_pass        http://127.0.0.1:8099;</span><br><span class="line">        	proxy_set_header  X-Forwarded-For <span class="variable">$remote_addr</span>;</span><br><span class="line">        	proxy_set_header  Host <span class="variable">$host</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>刷新 nginx 配置文件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure><p>访问 <a href="http://gerrit.bmsoft.com" target="_blank" rel="noopener">http://gerrit.bmsoft.com</a> 输入账号密码登录，到这里 gerrit 的安装就完成了。</p><h1 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h1><p>进入 /Users/summer/ 解压 gerrit.war包</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">unzip gerrit.war -d gerrit</span><br></pre></td></tr></table></figure><p>在 /Users/summer/gerrit/WEB-INF/plugins 目录下有7个 jar 文件</p><h2 id="Gerrit-配置-SSH-KEY"><a href="#Gerrit-配置-SSH-KEY" class="headerlink" title="Gerrit 配置 SSH-KEY"></a>Gerrit 配置 SSH-KEY</h2><p>生成 rsa 公钥私钥对</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><p>公钥私钥默认存放在 ~/.ssh 目录 id_rsa id_rsa.pub， 拷贝公钥， 添加到 gerrit 中</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pbcopy ~/ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><h2 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h2><p>进入 /Users/summer/gerrit/WEB-INF/plugins 目录</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/gerrit/WEB-INF/plugins</span><br></pre></td></tr></table></figure><p>安装插件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -p 29418 admin@127.0.0.1 gerrit plugin install -n replication.jar $(<span class="built_in">pwd</span>)/replication.jar</span><br><span class="line">ssh -p 29418 admin@127.0.0.1 gerrit plugin install -n hooks.jar $(<span class="built_in">pwd</span>)/hooks.jar</span><br><span class="line">ssh -p 29418 admin@127.0.0.1 gerrit plugin install -n commit-message-length-validator.jar $(<span class="built_in">pwd</span>)/commit-message-length-validator.jar</span><br><span class="line">ssh -p 29418 admin@127.0.0.1 gerrit plugin install -n download-commands.jar $(<span class="built_in">pwd</span>)/download-commands.jar</span><br><span class="line">ssh -p 29418 admin@127.0.0.1 gerrit plugin install -n reviewnotes.jar $(<span class="built_in">pwd</span>)/reviewnotes.jar</span><br><span class="line">ssh -p 29418 admin@127.0.0.1 gerrit plugin install -n singleusergroup.jar $(<span class="built_in">pwd</span>)/singleusergroup.jar</span><br></pre></td></tr></table></figure><p>查看插件列表</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -p 29418 admin@127.0.0.1 gerrit plugin ls</span><br><span class="line">Name                           Version    Status   File</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">commit-message-length-validator v2.16.1    ENABLED  commit-message-length-validator.jar</span><br><span class="line">download-commands               v2.16.1    ENABLED  download-commands.jar</span><br><span class="line">hooks                          	v2.16.1    ENABLED  hooks.jar</span><br><span class="line">replication                    	v2.16.1    ENABLED  replication.jar</span><br><span class="line">reviewnotes                    	v2.16.1    ENABLED  reviewnotes.jar</span><br><span class="line">singleusergroup                	v2.16.1    ENABLED  singleusergroup.jar</span><br></pre></td></tr></table></figure><p>刷新 plugins</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -p 29418 admin@127.0.0.1 gerrit plugin reload</span><br></pre></td></tr></table></figure><p>或者重启服务</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./gerrit.sh restart</span><br></pre></td></tr></table></figure><h2 id="配置-replication"><a href="#配置-replication" class="headerlink" title="配置 replication"></a>配置 replication</h2><p>进入 /Users/summer/review_site/etc 目录，新增 replication.config 文件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">touch replication.config</span><br></pre></td></tr></table></figure><p>配置如下</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[remote <span class="string">"gitlab"</span>]</span><br><span class="line">    <span class="comment">#这里的git@gitlab.com:summerandwinter 就是官网gitlab ssh 地址</span></span><br><span class="line">    url = git@gitlab.com:summerandwinter/<span class="variable">$&#123;name&#125;</span>.git</span><br><span class="line">    push = +refs/heads/*:refs/heads/*</span><br><span class="line">    push = +refs/tags/*:refs/tags/*</span><br><span class="line">    push = +refs/changes/*:refs/changes/*</span><br><span class="line">    timtout = 30</span><br><span class="line">    threads = 3</span><br></pre></td></tr></table></figure><p>进入 ~/.ssh 目录，新增 config 文件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">touch config</span><br></pre></td></tr></table></figure><h1 id="同步-Gitlab"><a href="#同步-Gitlab" class="headerlink" title="同步 Gitlab"></a>同步 Gitlab</h1><h2 id="gerrit上新建项目"><a href="#gerrit上新建项目" class="headerlink" title="gerrit上新建项目"></a>gerrit上新建项目</h2><p>Gerrit 上新建项目 nodejs-express</p><h3 id="同步Giblab-上同名项目结构"><a href="#同步Giblab-上同名项目结构" class="headerlink" title="同步Giblab 上同名项目结构"></a>同步Giblab 上同名项目结构</h3><p>进入 /Users/summer/env/gerrit/review_site/git</p><p>删除 nodejs-express.git 文件夹</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rm -rf nodejs-express.git</span><br></pre></td></tr></table></figure><p>克隆裸仓库</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --bare git@gitlab.com:summerandwinter/nodejs-express.git</span><br></pre></td></tr></table></figure><p>刷新页面会发现 gitlab中的分支信息已经同步到gerrit上了</p><h2 id="将gitlab项目同步至本地"><a href="#将gitlab项目同步至本地" class="headerlink" title="将gitlab项目同步至本地"></a>将gitlab项目同步至本地</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone git@gitlab.com:summerandwinter/nodejs-express.git</span><br></pre></td></tr></table></figure><h2 id="将远程仓库路径改为Gerrit项目仓库路径"><a href="#将远程仓库路径改为Gerrit项目仓库路径" class="headerlink" title="将远程仓库路径改为Gerrit项目仓库路径"></a>将远程仓库路径改为Gerrit项目仓库路径</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git remote <span class="built_in">set</span>-url origin ssh://admin@gerrit.bmsoft.com:29418/nodejs-express</span><br></pre></td></tr></table></figure><h2 id="检出所有分支"><a href="#检出所有分支" class="headerlink" title="检出所有分支"></a>检出所有分支</h2><h3 id="列出所有分支"><a href="#列出所有分支" class="headerlink" title="列出所有分支"></a>列出所有分支</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git branch -r</span><br><span class="line">  origin/HEAD -&gt; origin/master</span><br><span class="line">  origin/master</span><br></pre></td></tr></table></figure><h3 id="依次检出到本地"><a href="#依次检出到本地" class="headerlink" title="依次检出到本地"></a>依次检出到本地</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git checkout HEAD</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git checkout master</span><br></pre></td></tr></table></figure><h3 id="推送所有分支和标签到Gerrit上"><a href="#推送所有分支和标签到Gerrit上" class="headerlink" title="推送所有分支和标签到Gerrit上"></a>推送所有分支和标签到Gerrit上</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git push --all</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git push --tags</span><br></pre></td></tr></table></figure><p>现在Gitlab上的项目已经成功同步到 gerrit 上了，现在从 gerrit 上 clone 代码</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> ssh://admin@gerrit.bmsoft.com:29418/nodejs-express &amp;&amp; scp -p -P 29418 admin@gerrit.bmsoft.com:hooks/commit-msg nodejs-express/.git/hooks/</span><br><span class="line">Cloning into <span class="string">'nodejs-express'</span>...</span><br><span class="line">remote: Counting objects: 26, <span class="keyword">done</span></span><br><span class="line">remote: Finding sources: 100% (26/26)</span><br><span class="line">remote: Total 26 (delta 3), reused 26 (delta 3)</span><br><span class="line">Receiving objects: 100% (26/26), 4.79 KiB | 2.40 MiB/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (3/3), <span class="keyword">done</span>.</span><br><span class="line">commit-msg                                    100% 1392     2.2MB/s   00:00</span><br></pre></td></tr></table></figure><p>修改项目中的一些文件，然后提交，这里提交的步骤跟正常的步骤没有不同</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git add *</span><br><span class="line">git commit -m &apos;Make some change&apos;</span><br></pre></td></tr></table></figure><p>推送到 gerrit</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git push origin master:refs/<span class="keyword">for</span>/master</span><br><span class="line">Counting objects: 3, <span class="keyword">done</span>.</span><br><span class="line">Delta compression using up to 8 threads.</span><br><span class="line">Compressing objects: 100% (3/3), <span class="keyword">done</span>.</span><br><span class="line">Writing objects: 100% (3/3), 342 bytes | 342.00 KiB/s, <span class="keyword">done</span>.</span><br><span class="line">Total 3 (delta 2), reused 0 (delta 0)</span><br><span class="line">remote: Resolving deltas: 100% (2/2)</span><br><span class="line">remote: Processing changes: refs: 1, new: 1, <span class="keyword">done</span></span><br><span class="line">remote:</span><br><span class="line">remote: SUCCESS</span><br><span class="line">remote:</span><br><span class="line">remote: New Changes:</span><br><span class="line">remote:   http://gerrit.bmsoft.com/c/nodejs-express/+/1 一些改动</span><br><span class="line">To ssh://gerrit.bmsoft.com:29418/nodejs-express</span><br><span class="line"> * [new branch]      master -&gt; refs/<span class="keyword">for</span>/master</span><br></pre></td></tr></table></figure><p>这里需要提交到 refs/for/master 分支</p><p>刷新 gerrit 首页会看到我们刚刚的提交出现在了 Outgoing reviews 列表看到刚刚提交的修改</p><div class="end-of-file">END</div></div><footer class="article-footer"><ul class="article-meta"><li> <span class="label">发布:</span> <a href="/mac-gerrit-gitlab.html" class="article-date"><time datetime="2018-12-20T10:19:58.000Z" itemprop="datePublished">2018-12-20</time></a></li><li> <span class="label">分类:</span><div class="article-category"> <a class="article-category-link" href="/category/gerrit/">gerrit</a></div></li><li> <span class="label">标签:</span><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tag/Mac/">Mac</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tag/gerrit/">gerrit</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tag/gitlab/">gitlab</a></li></ul></li><hr></ul></footer></div><nav id="article-nav" class="article-nav"><span id="article-nav-newer" class="article-nav-link-wrap newer"></span> <a href="/findbugs-malicious-code-vulnerrability.html" id="article-nav-older" class="article-nav-link-wrap older"><strong class="article-nav-caption">下一篇</strong><div class="article-nav-title">Findbugs整理:Malicious Code Vulnerrability</div></a></nav></article><aside id="article-toc" role="navigation" class="article-toc"><div id="article-toc-inner"> <strong class="sidebar-title">目录</strong><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#环境"><span class="toc-text">环境</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#安装"><span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#修改认证方式和反向代理"><span class="toc-text">修改认证方式和反向代理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#安装插件"><span class="toc-text">安装插件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Gerrit-配置-SSH-KEY"><span class="toc-text">Gerrit 配置 SSH-KEY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装-1"><span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置-replication"><span class="toc-text">配置 replication</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#同步-Gitlab"><span class="toc-text">同步 Gitlab</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#gerrit上新建项目"><span class="toc-text">gerrit上新建项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#同步Giblab-上同名项目结构"><span class="toc-text">同步Giblab 上同名项目结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#将gitlab项目同步至本地"><span class="toc-text">将gitlab项目同步至本地</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#将远程仓库路径改为Gerrit项目仓库路径"><span class="toc-text">将远程仓库路径改为Gerrit项目仓库路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#检出所有分支"><span class="toc-text">检出所有分支</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#列出所有分支"><span class="toc-text">列出所有分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#依次检出到本地"><span class="toc-text">依次检出到本地</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#推送所有分支和标签到Gerrit上"><span class="toc-text">推送所有分支和标签到Gerrit上</span></a></li></ol></li></ol></li></ol> <a href="#" id="article-toc-top">回到顶部</a></div></aside><section id="gitment_ccomments" class="comments"><div id="gitment_container"></div></section></div></section></div><footer id="footer" class="post-footer footer"><div id="footerContent" class="footer-content"><div class="end-of-file">Live Happy Love Hard</div></div></footer></div><script src="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/js/gitment.js"></script><script>var date="Thu Dec 20 2018 10:19:58 GMT+0000",id=""+new Date(date).getTime(),gitment=new Gitment({id:id,owner:"summerandwinter",repo:"summerandwinter.github.io",oauth:{client_id:"7b432b7b46e71966fd88",client_secret:"2c697bec7b012bca975de41c87863d84086f8d81"}});gitment.render("gitment_container")</script><script src="//cdn.jsdelivr.net/gh/summerandwinter/summerandwinter.github.io/js/summer.js"></script><!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]--></div></body>