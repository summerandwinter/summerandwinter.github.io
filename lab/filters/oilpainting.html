<html><head><script>window.onload=function(){var w=document.getElementById("myCanvas"),v=w.getContext("2d"),f=new Image;f.src="original.jpg",f.onload=function(){w.width=f.width,w.height=f.height;var a=w.width,t=w.height;v.drawImage(f,0,0);for(var d=v.getImageData(0,0,a,t),e=0,o=0,n=0,g=0;g<a;g++)for(var r=0;r<t;r++){var h=Math.floor(1e4*Math.random())%3,i=4*((g+h<a?g+h:0<=g-h?g-h:g)+(r+h<t?r+h:0<=r-h?r-h:r)*a),m=(e=d.data[i+0],o=d.data[i+1],n=d.data[i+2],4*(g+r*a));d.data[m+0]=e,d.data[m+1]=o,d.data[m+2]=n,d.data[m+3]=255}v.putImageData(d,0,0)}}</script></head><p>原图</p> <img src="original.jpg"><p>效果图</p><canvas id="myCanvas">Gray Filter</canvas><canvas id="cv">Gray Filter</canvas></html>