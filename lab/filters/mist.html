<html><head><script>window.onload=function(){var f=document.getElementById("myCanvas"),l=f.getContext("2d"),I=new Image;I.src="original.jpg",I.onload=function(){f.width=I.width,f.height=I.height;var a=f.width,t=f.height;l.drawImage(I,0,0);for(var d=l.getImageData(0,0,a,t),e=0,o=0,n=0,r=0;r<a;r++)for(var g=0;g<t;g++){var h=Math.floor(123456*Math.random()),i=r+h%9,m=g+h%9;a<=i&&(i=a-1),t<=m&&(m=t-1);var v=4*(i+m*a),w=(e=d.data[v+0],o=d.data[v+1],n=d.data[v+2],4*(r+g*a));d.data[w+0]=e,d.data[w+1]=o,d.data[w+2]=n,d.data[w+3]=255}l.putImageData(d,0,0)}}</script></head><p>原图</p> <img src="original.jpg"><p>效果图</p><canvas id="myCanvas">Gray Filter</canvas><canvas id="cv">Gray Filter</canvas></html>