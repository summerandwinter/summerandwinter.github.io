function Egg(t,h,i){var s,e,a,g;s=getRes("egg"),e=getRes("egg2_2"),a=getRes("gash"),g=getRes("gift"),this.ctx=t,this.stageW=t.canvas.width,this.stageH=t.canvas.height,this.x=h,this.y=i,this.sx=h,this.sy=i,this.vx=0,this.vy=0,this.status=0,this.bong=0,this.gashX=h+80,this.gashY=i+50,this.gashSX=this.gashX,this.gashSY=this.gashY,this.ticketCount=50,this.ticketCur=0,this.ticketLoop=1,this.gashScale=.5*(.2*(this.ticketLoop-1)+1),this.xPer=130.5/216,this.yPer=78/190,this.giftX=h+150,this.giftY=i+250,this.draw=function(){switch(this.status){case 0:t.drawImage(s.image,this.x,this.y,s.width,s.height),t.drawImage(g.image,this.giftX,this.giftY,g.width,g.height);break;case 1:t.drawImage(s.image,this.x,this.y,s.width,s.height),t.save(),t.translate(this.gashX+a.width*this.xPer,this.gashY+a.height*this.yPer),t.scale(this.gashScale,this.gashScale),t.drawImage(a.image,-a.width*this.xPer,-a.height*this.yPer,a.width,a.height),t.translate(-(this.gashX+a.width*this.xPer),-(this.gashY+a.height*this.yPer)),t.restore(),t.drawImage(g.image,this.giftX,this.giftY,g.width,g.height);break;case 2:t.drawImage(e.image,this.x,this.y,e.width,e.height)}},this.update=function(){switch(this.status){case 0:break;case 1:3<this.ticketLoop?this.status=2:(this.ticketCur++,this.ticketCur>=this.ticketCount&&(this.ticketLoop++,this.ticketCur=0),this.ticketCur<this.ticketCount/10?this.vx=random(-3,3):this.vx=0),this.gashScale=.5*(.5*this.ticketLoop+.35),this.x=this.sx+this.vx,this.y=this.sy+this.vy,this.gashX=this.gashSX+this.vx,this.gashY=this.gashSY+this.vy}}}