function Prize(i,t,s,h){var e,a,g,d,x,r,n,o,m=this,l=100;e=getRes(h),a=getRes("egg2_1"),n=getRes("gift"),o=getRes("gs2"),this.x=t,this.y=s,this.sx=t,this.sy=s,this.vx=.1,this.vy=.1,this.dx=20,this.dy=5,this.minX=this.x-this.dx,this.maxX=this.x+this.dx,this.minY=this.y-this.dy,this.maxY=this.y+this.dy,this.speed=2,this.stageW=i.canvas.width,this.stageH=i.canvas.height,this.status=0,this.textX=this.stageW/2,this.textY=this.stageH/6,this.eggX=(this.stageW-a.width)/2,this.eggY=this.stageH-a.height-10;var w=getRes("egg"),f=(m.stageW-w.width)/2,y=m.stageH-w.height-10;this.giftX=f+150,this.giftY=y+250,this.gs2X=(this.stageW-o.width)/2-10,this.gs2Y=this.stageH-o.height-100,this.draw=function(){e.success?function(){0==m.status&&(m.status=1,game.fireworksLaunch());i.scale(1,1),i.save(),i.font=l+"px Microsoft YaHei",g=i.measureText(e.name),d=(m.stageW-g.width)/2,x=this.textY,d+g.width,r=x+2*l/3;var t=i.createLinearGradient(d,x,d,r);t.addColorStop(0,"#F9EDCD"),t.addColorStop(.25,"#E08045"),t.addColorStop(.5,"#E08045"),t.addColorStop(1,"#E08045"),i.fillStyle=t,i.textAlign="center",i.textBaseline="middle",i.shadowColor="rgba( 0, 0, 0, 0.75)",i.shadowOffsetX=3,i.shadowOffsetY=3,i.shadowBlur=10,i.fillText(e.name,this.textX,this.textY),i.restore(),i.drawImage(o.image,this.gs2X,this.gs2Y,o.width,o.height),i.drawImage(e.image,this.x,this.y,e.width,e.height),this.drawPrizeEgg()}.call(this):function(){i.fillStyle="red",i.font="50px Microsoft YaHei",i.fillText("空蛋一个~~",this.textX,this.textY),i.textAlign="center",i.textBaseline="middle",i.drawImage(e.image,this.x,this.y,e.width,e.height),this.drawPrizeEgg()}.call(this)},this.update=function(){this.x=this.x+this.vx,0<=this.vx?this.x>this.maxX&&(this.x=this.maxX,this.vx=-this.vx):this.x<this.minX&&(this.x=this.minX,this.vx=-this.vx),this.y=this.y+this.vy,0<=this.vy?this.y>this.maxY&&(this.y=this.maxY,this.vy=-this.vy):this.y<this.minY&&(this.y=this.minY,this.vy=-this.vy)},this.drawPrizeEgg=function(){i.drawImage(a.image,m.eggX,m.eggY,a.width,a.height),i.drawImage(n.image,this.giftX,this.giftY,n.width,n.height)}}