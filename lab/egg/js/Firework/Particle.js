function Particle(t,i,s){var h=getRes("color");for(this.x=i,this.y=s,this.coordinateCount=50,this.coordinates=[],this.type=Math.floor(random(.5,1.5));this.coordinateCount--;)this.coordinates.push([this.x,this.y]);this.angle=angle2Degree(random(-135,-45)),this.speed=2.5*random(1,8),this.friction=.95,this.gravity=1.5,this.hue=random(hue-20,hue+20),this.brightness=random(50,80),this.alpha=1,this.decay=random(.015,.03),this.radius=random(1,3),this.scale=random(.05,.25),this.update=function(t){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.friction,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed+this.gravity,this.alpha-=this.decay*random(1,1.5),this.alpha<=this.decay&&particles.splice(t,1)},this.draw=function(){t.save(),t.translate(this.x,this.y),t.scale(this.scale,this.scale),t.rotate(this.angle),t.translate(-this.x,-this.y),t.drawImage(h.image,this.x-h.width/2,this.y-h.height/2,h.width,h.height),t.restore()}}