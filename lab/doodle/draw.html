<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>draw</title><style>canvas{border:1px solid #ccc}</style></head><body translate="no"><canvas id="c" width="500" height="300"></canvas><button id="s">save</button><script>function getRandomInt(n,t){return Math.floor(Math.random()*(t-n+1))+n}var el=document.getElementById("c"),ctx=el.getContext("2d");ctx.lineJoin=ctx.lineCap="round";var isDrawing,points=[],point=[];function fake_click(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}function export_raw(n,t){var e=window.URL||window.webkitURL||window,i=new Blob([t]),o=document.createElementNS("http://www.w3.org/1999/xhtml","a");o.href=e.createObjectURL(i),o.download=n,fake_click(o)}el.onmousedown=function(n){isDrawing=!0,point=[],ctx.moveTo(n.clientX,n.clientY),point.push({x:n.clientX,y:n.clientY,width:getRandomInt(3,5)})},el.onmousemove=function(n){if(isDrawing){var t=getRandomInt(3,5);point.push({x:n.clientX,y:n.clientY,width:t}),isDrawing&&(ctx.lineWidth=t,ctx.lineTo(n.clientX,n.clientY),ctx.stroke())}},el.onmouseup=function(){isDrawing=!1,points.push(point),console.log(JSON.stringify(points))},document.getElementById("s").onclick=function(){export_raw("points.json",JSON.stringify(points))}</script></body></html>