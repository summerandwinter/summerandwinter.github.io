!function(r,t){"object"==typeof exports?module.exports=t(r):"function"==typeof define&&define.amd?define("colors",[],function(){return t(r)}):r.Colors=t(r)}(this,function(r,l){"use strict";function n(r,t,o,e,i){if("string"==typeof t)o=(t=N.txt2color(t)).type,$[o]=t[o],i=i!==l?i:t.alpha;else if(t)for(var n in t)r[o][n]=c(t[n]/S[o][n][1],0,1);return i!==l&&(r.alpha=c(+i,0,1)),s(o,e?r:l)}function s(r,t){var o,e,i,n,s,c,a,l,u=t||$,h=N,g=P.options,p=S,f=u.RND,d="",b="",v={hsl:"hsv",rgb:r},x=f.rgb;if("alpha"!==r){for(var m in p)if(!p[m][m])for(d in r!==m&&(b=v[m]||"rgb",u[m]=h[b+"2"+m](u[b])),f[m]||(f[m]={}),o=u[m])f[m][d]=A(o[d]*p[m][d][1]);x=f.rgb,u.HEX=h.RGB2HEX(x),u.equivalentGrey=g.grey.r*u.rgb.r+g.grey.g*u.rgb.g+g.grey.b*u.rgb.b,u.webSave=e=D(x,51),u.webSmart=i=D(x,17),u.saveColor=x.r===e.r&&x.g===e.g&&x.b===e.b?"web save":x.r===i.r&&x.g===i.g&&x.b===i.b?"web smart":"",u.hueRGB=N.hue2RGB(u.hsv.h),t&&(u.background=(n=x,s=u.rgb,c=u.alpha,a=P.options.grey,(l={}).RGB={r:n.r,g:n.g,b:n.b},l.rgb={r:s.r,g:s.g,b:s.b},l.alpha=c,l.equivalentGrey=A(a.r*n.r+a.g*n.g+a.b*n.b),l.rgbaMixBlack=X(s,{r:0,g:0,b:0},c,1),l.rgbaMixWhite=X(s,{r:1,g:1,b:1},c,1),l.rgbaMixBlack.luminance=F(l.rgbaMixBlack,!0),l.rgbaMixWhite.luminance=F(l.rgbaMixWhite,!0),P.options.customBG&&(l.rgbaMixCustom=X(s,P.options.customBG,c,1),l.rgbaMixCustom.luminance=F(l.rgbaMixCustom,!0),P.options.customBG.luminance=F(P.options.customBG,!0)),l))}var y,_,w,C,k,B,M,G,R=u.rgb,E=u.alpha,H="luminance",z=u.background;return(y=X(R,{r:0,g:0,b:0},E,1))[H]=F(y,!0),u.rgbaMixBlack=y,(_=X(R,{r:1,g:1,b:1},E,1))[H]=F(_,!0),u.rgbaMixWhite=_,g.customBG&&((w=X(R,z.rgbaMixCustom,E,1))[H]=F(w,!0),w.WCAG2Ratio=(M=w[H],G=z.rgbaMixCustom[H],A(100*(G<=M?(M+.05)/(G+.05):(G+.05)/(M+.05)))/100),(u.rgbaMixBGMixCustom=w).luminanceDelta=q.abs(w[H]-z.rgbaMixCustom[H]),w.hueDelta=(C=z.rgbaMixCustom,k=w,B=!0,(q.max(C.r-k.r,k.r-C.r)+q.max(C.g-k.g,k.g-C.g)+q.max(C.b-k.b,k.b-C.b))*(B?255:1)/765)),u.RGBLuminance=F(x),u.HUELuminance=F(u.hueRGB),g.convertCallback&&g.convertCallback(u,r),u}function D(r,t){var o={},e=0,i=t/2;for(var n in r)e=r[n]%t,o[n]=r[n]+(i<e?t-e:-e);return o}function F(r,t){for(var o=t?1:255,e=[r.r/o,r.g/o,r.b/o],i=P.options.luminance,n=e.length;n--;)e[n]=e[n]<=.03928?e[n]/12.92:q.pow((e[n]+.055)/1.055,2.4);return i.r*e[0]+i.g*e[1]+i.b*e[2]}function X(r,t,o,e){var i={},n=o!==l?o:1,s=e!==l?e:1,c=n+s*(1-n);for(var a in r)i[a]=(r[a]*n+t[a]*s*(1-n))/c;return i.a=c,i}function c(r,t,o){return o<r?o:r<t?t:r}var S={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},q=r.Math,A=q.round,P={},$={},t={r:.298954,g:.586434,b:.114612},o={r:.2126,g:.7152,b:.0722},e=function(r){this.colors={RND:{}},this.options={color:"rgba(204, 82, 37, 0.8)",grey:t,luminance:o,valueRanges:S},i(this,r||{})},i=function(r,t){var o,e=r.options;for(var i in a(r),t)t[i]!==l&&(e[i]=t[i]);o=e.customBG,e.customBG="string"==typeof o?N.txt2color(o).rgb:o,$=n(r.colors,e.color,l,!0)},a=function(r){P!==r&&($=(P=r).colors)};e.prototype.setColor=function(r,t,o){return a(this),r?n(this.colors,r,t,l,o):(o!==l&&(this.colors.alpha=c(o,0,1)),s(t))},e.prototype.setCustomBackground=function(r){return a(this),this.options.customBG="string"==typeof r?N.txt2color(r).rgb:r,n(this.colors,l,"rgb")},e.prototype.saveAsBackground=function(){return a(this),n(this.colors,l,"rgb",!0)},e.prototype.toString=function(r,t){return N.color2text((r||"rgb").toLowerCase(),this.colors,t)};var N={txt2color:function(r){var t={},o=r.replace(/(?:#|\)|%)/g,"").split("("),e=(o[1]||"").split(/,\s*/),i=o[1]?o[0].substr(0,3):"rgb",n="";if(t.type=i,t[i]={},o[1])for(var s=3;s--;)n=i[s]||i.charAt(s),t[i][n]=+e[s]/S[i][n][1];else t.rgb=N.HEX2rgb(o[0]);return t.alpha=e[3]?+e[3]:1,t},color2text:function(r,t,o){var e=!1!==o&&A(100*t.alpha)/100,i="number"==typeof e&&!1!==o&&(o||1!==e),n=t.RND.rgb,s=t.RND.hsl,c="hex"===r&&i,a="hex"===r&&!c,l="rgb"===r||c?n.r+", "+n.g+", "+n.b:a?"#"+t.HEX:s.h+", "+s.s+"%, "+s.l+"%";return a?l:(c?"rgb":r)+(i?"a":"")+"("+l+(i?", "+e:"")+")"},RGB2HEX:function(r){return((r.r<16?"0":"")+r.r.toString(16)+(r.g<16?"0":"")+r.g.toString(16)+(r.b<16?"0":"")+r.b.toString(16)).toUpperCase()},HEX2rgb:function(r){return{r:+("0x"+(r=r.split(""))[0]+r[r[3]?1:0])/255,g:+("0x"+r[r[3]?2:1]+(r[3]||r[1]))/255,b:+("0x"+(r[4]||r[2])+(r[5]||r[2]))/255}},hue2RGB:function(r){var t=6*r,o=~~t%6,e=6===t?0:t-o;return{r:A(255*[1,1-e,0,0,e,1][o]),g:A(255*[e,1,1,1-e,0,0][o]),b:A(255*[0,0,e,1,1,1-e][o])}},rgb2hsv:function(r){var t,o,e=r.r,i=r.g,n=r.b,s=0;return i<n&&(i=n+(n=i,0),s=-1),o=n,e<i&&(e=i+(i=e,0),s=-2/6-s,o=q.min(i,n)),t=e-o,{h:(e?t/e:0)<1e-15?$&&$.hsl&&$.hsl.h||0:t?q.abs(s+(i-n)/(6*t)):0,s:e?t/e:$&&$.hsv&&$.hsv.s||0,v:e}},hsv2rgb:function(r){var t=6*r.h,o=r.s,e=r.v,i=~~t,n=t-i,s=e*(1-o),c=e*(1-n*o),a=e*(1-(1-n)*o),l=i%6;return{r:[e,c,s,s,a,e][l],g:[a,e,e,c,s,s][l],b:[s,s,a,e,e,c][l]}},hsv2hsl:function(r){var t=(2-r.s)*r.v,o=r.s*r.v;return o=r.s?t<1?t?o/t:0:o/(2-t):0,{h:r.h,s:r.v||o?o:$&&$.hsl&&$.hsl.s||0,l:t/2}},rgb2hsl:function(r,t){var o=N.rgb2hsv(r);return N.hsv2hsl(t?o:$.hsv=o)},hsl2rgb:function(r){var t=6*r.h,o=r.s,e=r.l,i=e<.5?e*(1+o):e+o-o*e,n=e+e-i,s=~~t,c=i*(i?(i-n)/i:0)*(t-s),a=n+c,l=i-c,u=s%6;return{r:[i,l,n,n,a,i][u],g:[a,i,i,l,n,n][u],b:[n,n,a,i,i,l][u]}}};return e}),function(o,e){"object"==typeof exports?module.exports=e(o,require("jquery"),require("colors")):"function"==typeof define&&define.amd?define(["jquery","colors"],function(r,t){return e(o,r,t)}):e(o,o.jQuery,o.Colors)}(this,function(n,s,t,d){"use strict";function c(r){return r.value||r.getAttribute("value")||s(r).css("background-color")||"#fff"}function i(r){return(r=r.originalEvent&&r.originalEvent.touches?r.originalEvent.touches[0]:r).originalEvent?r.originalEvent:r}function a(r){return s(r.find(x.doRender)[0]||r[0])}function o(r){var t=s(this),o=t.offset(),e=s(n),i=x.gap;r?((m=a(t))._colorMode=m.data("colorMode"),p.$trigger=t,(f||(s("head").append('<style type="text/css" id="tinyColorPickerStyles">'+(x.css||F)+(x.cssAddon||"")+"</style>"),p.$UI=f=s(D).css({margin:x.margin}).appendTo("body").show(0,function(){var r=s(this);H=x.GPU&&r.css("perspective")!==d,y=s(".cp-xy-slider",this),_=s(".cp-xy-cursor",this),w=s(".cp-z-cursor",this),C=s(".cp-alpha",this).toggle(!!x.opacity),k=s(".cp-alpha-cursor",this),x.buildCallback.call(p,r),r.prepend("<div>").children().eq(0).css("width",r.children().eq(0).width()),this._width=this.offsetWidth,this._height=this.offsetHeight}).hide())).css({left:(f[0]._left=o.left)-(0<(f[0]._left+=f[0]._width-(e.scrollLeft()+e.width()))+i?f[0]._left+i:0),top:(f[0]._top=o.top+t.outerHeight())-(0<(f[0]._top+=f[0]._height-(e.scrollTop()+e.height()))+i?f[0]._top+i:0)}).show(x.animationSpeed,function(){!0!==r&&(C._width=C.width(),y._width=y.width(),y._height=y.height(),v.setColor(c(m[0])),g(!0))}).off(".tcp").on(R,".cp-xy-slider,.cp-z-slider,.cp-alpha",l)):p.$trigger&&s(f).hide(x.animationSpeed,function(){g(!1),p.$trigger=null}).off(".tcp")}function l(r){var t=this.className.replace(/cp-(.*?)(?:\s*|$)/,"$1").replace("-","_");1<(r.button||r.which)||(r.preventDefault&&r.preventDefault(),r.returnValue=!1,m._offset=s(this).offset(),(t="xy_slider"===t?e:"z_slider"===t?u:h)(r),g(),B.on(E,function(){B.off(".tcp")}).on(G,function(r){t(r),g()}))}function e(r){var t=i(r),o=t.pageX-m._offset.left,e=t.pageY-m._offset.top;v.setColor({s:o/y._width*100,v:100-e/y._height*100},"hsv")}function u(r){var t=i(r).pageY-m._offset.top;v.setColor({h:360-t/y._height*360},"hsv")}function h(r){var t=(i(r).pageX-m._offset.left)/C._width;v.setColor({},"rgb",t)}function g(r){var t=v.colors,o=t.hueRGB,e=(t.RND.rgb,t.RND.hsl,"#222"),i="#ddd",n=v.toString(m._colorMode,x.forceAlpha),s=.22<t.HUELuminance?e:i,c=.22<t.rgbaMixBlack.luminance?e:i,a=(1-t.hsv.h)*y._height,l=t.hsv.s*y._width,u=(1-t.hsv.v)*y._height,h=t.alpha*C._width,g=H?"translate3d":"",p=m[0].value,f=m[0].hasAttribute("value")&&""===p&&r!==d;y._css={backgroundColor:"rgb("+o.r+","+o.g+","+o.b+")"},_._css={transform:g+"("+l+"px, "+u+"px, 0)",left:H?"":l,top:H?"":u,borderColor:.22<t.RGBLuminance?e:i},w._css={transform:g+"(0, "+a+"px, 0)",top:H?"":a,borderColor:"transparent "+s},C._css={backgroundColor:"#"+t.HEX},k._css={transform:g+"("+h+"px, 0, 0)",left:H?"":h,borderColor:c+" transparent"},m._css={backgroundColor:f?"":n,color:f?"":.22<t.rgbaMixBGMixCustom.luminance?e:i},m.text=f?"":p!==n?n:"",r!==d?b(r):z(b)}function b(r){y.css(y._css),_.css(_._css),w.css(w._css),C.css(C._css),k.css(k._css),x.doRender&&m.css(m._css),m.text&&m.val(m.text),x.renderCallback.call(p,m,"boolean"==typeof r?r:d)}var p,v,x,m,f,y,_,w,C,k,B=s(document),M=s(),G="touchmove.tcp mousemove.tcp pointermove.tcp",R="touchstart.tcp mousedown.tcp pointerdown.tcp",E="touchend.tcp mouseup.tcp pointerup.tcp",H=!1,z=(Math.round,n.requestAnimationFrame||n.webkitRequestAnimationFrame||function(r){r()}),D='<div class="cp-color-picker"><div class="cp-z-slider"><div class="cp-z-cursor"></div></div><div class="cp-xy-slider"><div class="cp-white"></div><div class="cp-xy-cursor"></div></div><div class="cp-alpha"><div class="cp-alpha-cursor"></div></div></div>',F=".cp-color-picker{position:absolute;overflow:hidden;padding:6px 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;cursor:default;border-radius:5px}.cp-color-picker>div{position:relative;overflow:hidden}.cp-xy-slider{float:left;height:128px;width:128px;margin-bottom:6px;background:linear-gradient(to right,#FFF,rgba(255,255,255,0))}.cp-white{height:100%;width:100%;background:linear-gradient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;width:10px;height:10px;margin:-5px;border:1px solid #fff;border-radius:100%;box-sizing:border-box}.cp-z-slider{float:right;margin-left:6px;height:128px;width:20px;background:linear-gradient(red 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-cursor{position:absolute;margin-top:-4px;width:100%;border:4px solid #fff;border-color:transparent #fff;box-sizing:border-box}.cp-alpha{clear:both;width:100%;height:16px;margin:6px 0;background:linear-gradient(to right,#444,rgba(0,0,0,0))}.cp-alpha-cursor{position:absolute;margin-left:-4px;height:100%;border:4px solid #fff;border-color:#fff transparent;box-sizing:border-box}",X=function(r){v=this.color=new t(r),x=v.options,p=this};X.prototype={render:g,toggle:o},s.fn.colorPicker=function(e){var r=function(){};return e=s.extend({animationSpeed:150,GPU:!0,doRender:!0,customBG:"#FFF",opacity:!0,renderCallback:r,buildCallback:r,body:document.body,scrollResize:!0,gap:4},e),!p&&e.scrollResize&&s(n).on("resize.tcp scroll.tcp",function(){p.$trigger&&p.toggle.call(p.$trigger[0],!0)}),M=M.add(this),this.colorPicker=M.colorPicker=p||new X(e),s(e.body).off(".tcp").on(R,function(r){!M.add(f).find(r.target).add(M.filter(r.target))[0]&&o()}),this.on("focusin.tcp click.tcp",o).on("change.tcp",function(){v.setColor(this.value||"#FFF"),M.colorPicker.render(!0)}).each(function(){var r=c(this),t=r.split("("),o=a(s(this));o.data("colorMode",t[1]?t[0].substr(0,3):"HEX").attr("readonly",x.preventFocus),e.doRender&&o.css({"background-color":r,color:function(){return.22<v.setColor(r).rgbaMixBGMixCustom.luminance?"#222":"#DDD"}})})},s.fn.colorPicker.destroy=function(){s("*").off(".tcp"),p.toggle(!1),M=s()}});