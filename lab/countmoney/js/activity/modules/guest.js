define(function(t,e,i){var s=t("common");e.init=function(){$("body").on("active",function(){$("#guest").on("click","ul li",function(){n($(this))}),$("#guest #guestDetail a.closeBtn").click(function(){$("#guestDetail").css("opacity",0).hide(),$("#guestList").show()})}),$("body").on("modulechange",function(t,e){"guest"==e?($("#guest").show(),a()):$("#guest").hide()})};var a=function(){s.loading("数据正在准备中，请稍后"),$.extendGetJSON(s.httpURL+$("#GetGuest").val(),{},function(t){s.loaded(),$("#guest ul").empty(),t&&0<t.length&&$.each(t,function(t,e){$("#guest ul").append('<li data-name="'+e.Name+'" data-pic="'+e.Pic+'" data-summary="'+e.Summary+'"><img src="'+e.Pic+'" alt="" /><span></span><label>'+e.Name+"</label></li>")})},function(){s.loaded(),s.showInfo("网络繁忙，请稍后重试")})},n=function(t){$("#guest").append('<img class="guestBigImg" style="left:'+$(t).offset().left+"px; top:"+$(t).offset().top+'px" src="'+$(t).find("img").attr("src")+'">'),$(".guestBigImg").animate({left:$("#guestList ul li:eq(0)").offset().left-1+"px",top:$("#guestList ul li:eq(0)").offset().top+"px",width:"196px",height:"196px"},200,function(){$(".guestBigImg").remove()});var e='<img src="'+t.data("pic")+'" /><span>'+t.data("name")+"</span>"+t.data("summary");$("#guest #guestInfo").html(e),$("#guest #guestDetail").show().animate({opacity:1},500),$("#guest #guestList").hide()}});