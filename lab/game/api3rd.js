!function(v,e){function b(e){var t=_e[e],n=Array.prototype.slice.call(arguments,1);if(t)for(var o=0,i=(t=t.slice(0)).length;o<i;o++)t[o].apply(ce,n)}function n(e){var t="boolean"===c(e)?e:!be.toolbarExpand;t!==be.toolbarExpand&&(be.toolbarExpand=t,h(Te+" .hw-bar").className="hw-bar"+(t?" hw-bar-expand":""))}function w(e,t,n){new Image(1,1).src=S(V+"/tj.gif",p({act:e,aop:t,id:he||"",t:ue||""},n||{}))}function i(e,t,n,o){var i,r,a,s,l,c=fe[t];if(c&&!(0===c&ge[e])){if(!we&&"init"!==t&&"bt"!==t&&"vt"!==t)return void ve.push(Array.prototype.slice.call(arguments));x(n)&&(o=n,n=null);var u=me[t];if(u){try{u.abort()}catch(e){}u=null,delete me[t]}me[t]=(i=W,r=Z+te+(e===M?"get":"set")+t+".html",a=n,s=o,l=new XMLHttpRequest,i===M&&a&&(r=S(r,a),a=null),l.open(i,r,!0),ue&&l.setRequestHeader("X-KEY",ue),(de||pe)&&l.setRequestHeader("X-TOKEN",pe||de),he&&l.setRequestHeader("X-GUID",he),i===W&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s&&(l.onerror=l.onabort=function(){d(l),s(null,500,l)},l.onload=function(){d(l);var e=l.status;if(200<=e&&e<300||304==e){var t,n=l.responseText;try{t=JSON.parse(n)}catch(e){v[se](n)}if(t&&t.url)return void(location.href=t.url);t&&1===t.status?s(t.data||"",t.status,l):s(null,t.status,l)}else s(null,e,l)}),l.send(v.FormData&&a instanceof FormData?a:y(a)?a:m(a)),l)}}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function t(e){var t,n=be.share.descCustom;e&&n&&(e.hasOwnProperty("level")&&(t=(t||n).replace(/\{l\}/g,e.level||1)),e.hasOwnProperty("score")&&(t=(t||n).replace(/\{s\}/g,e.score||0)),e.hasOwnProperty("time")&&(t=(t||n).replace(/\{t\}/g,e.time||0)),e.hasOwnProperty("title")&&(t=(t||n).replace(/\{tt\}/g,e.title||""))),t&&ce.setShare({desc:t})}function o(e){var t=null,n=function(){var e=h(Ie);if(!e){var t=T("author");t&&(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var n=[Ie+" {position:fixed;left:0;top:0;z-index:9947483646;width:100%;height:100%;box-sizing:border-box;color:#fff;text-shadow:none;font-family:'Microsoft Yahei', Arial, 'Helvetica Neue', sans-serif;-webkit-font-smoothing: antialiased;}",Ie+" .inner {display:none;position:relative;top:0;width:100%;height:100%;padding-top:80px;pointer-events:none;background: #167de6;}",Ie+" .inner.alone {padding-top:0;background: #fff;}",Ie+" .inner.alone img {width: auto;height: auto;position: absolute;top: 40%;left: 50%;margin:-100px auto auto -130px;}",Ie+" img {display:block;margin:10px auto 30px;height:80px;width:auto;}",Ie+" p {font-size:16px;line-height:24px;text-align:center;margin:10px auto;padding:0 10px;}",Ie+" .hw_info {font-size: 12px;color: rgba(255,255,255,.7);}",Ie+" .progress {height:20px;overflow:hidden;margin: 5px 10px;background-color:#f5f5f5;border-radius:4px;box-sizing:border-box;box-shadow:inset 0 1px 2px rgba(0,0,0,.1);-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);}",Ie+" .progress .bar {float:left;min-width:20px;height:100%;line-height:20px;font-size:12px;text-align:center;color:#fff;box-sizing:border-box;background-color:#428bca;box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);transition:width .6s ease;-webkit-transition:width .6s ease;-o-transition:width .6s ease;}"];l(n.join("")),(e=R.createElement("div")).id=Ie.slice(1),e.style.display="none";var o=(new Date).getHours();e.innerHTML=be.channelLogo?[be.channelAloneLogo?'<div class="inner alone"><img src="'+K+"/images/home/loading_"+G+'.png"></div>':"",'<div class="inner"'+(o<6||20<o?' style="background: #2c2a2a;"':"")+">",'<img src="'+K+'/images/home/logo_wr_220x100_black.png" height="80">','<img src="'+K+"/images/home/logo_"+G+'.png" height="80">',t?"<p>"+(X[G][3]?"“<strong>"+X[G][0]+"</strong>”":"<strong>火舞</strong> &bull; <strong>"+t+"</strong>")+" 原创出品</p><p>授权"+(X[G][3]?"<strong>火舞</strong>":"“<strong>"+X[G][0]+"</strong>”")+(X[G][5]||"联合发布")+"</p><p>转载请经过授权，侵权必究</p>":"<p>"+(X[G][3]?"“<strong>"+X[G][0]+"</strong>”出品, 授权<strong>火舞</strong>"+(X[G][5]||"联合发布"):"<strong>火舞</strong>出品, 授权“<strong>"+X[G][0]+"</strong>”"+(X[G][5]||"联合发布"))+"</p>",'<p class="hw_info">游戏载入中...</p>','<div class="progress" style="display:none;"><div class="bar">0%</div></div>',"</div>"].join(""):['<div class="inner"'+(o<6||20<o?' style="background: #2c2a2a;"':"")+">",'<img src="'+K+'/images/home/logo_wr_220x100_black.png" height="80">',t?"<p><strong>火舞游戏</strong> &bull; <strong>"+t+"</strong> 原创出品</p><p>转载请经过授权，侵权必究</p>":"<p>火舞游戏 &bull; 为未来而生</p>",'<p class="hw_info">游戏载入中...</p>','<div class="progress" style="display:none;"><div class="bar">0%</div></div>',"</div>"].join(""),e.addEventListener(B,_),e.addEventListener(U,_),h("body").appendChild(e)}return e}(),o="none"!==n.style.display;if("boolean"===c(e)?e!==o&&(t=e?1:0):t=o?0:1,null!==t){n.style.display=t?"block":"none",b("splashscreen."+(t?"show":"hide"));var i=function(e,t){if(y(e)){var n=R.querySelectorAll(e,h(t)||R.body);return[].slice.call(n,0)}return e}(".inner",n);i[0].style.display=t?"block":"none",be.channelAloneLogo&&t&&1<i.length&&(clearTimeout(Ce),Ce=setTimeout(function(){i[1].style.display="block",i[0].parentNode.removeChild(i[0]),i=null},1500))}}function a(e){var t,n=function(){var e=h(Re);if(!e){var t=[Re+" {position:fixed;left:0;top:0;z-index:9999;width:100%;height:100%;box-sizing:border-box;background:#fff;}",Re+" .inner {width:100%;height:100%;padding-top:200px;pointer-events:none;}",Re+" .tip {position:absolute;top:80px;left:50%;margin-left:-64px;width:128px;z-index:9999;}",Re+" p {color:#4a87ee;font-size:16px;line-height:24px;text-align:center;margin:10px auto;padding:0 10px;}"];l(t.join("")),(e=R.createElement("div")).id=Re.slice(1),e.style.display="none",e.innerHTML=['<div class="inner">','<img src="'+K+'/images/orientation.gif" class="tip">',"<p>请旋转手机屏幕，以达到最佳效果</p>","</div>"].join(" "),e.addEventListener(B,_),e.addEventListener(U,_),h("body").appendChild(e)}return e}(),o="none"!==n.style.display;"boolean"===c(e)?e!==o&&(t=e?"block":"none"):t=o?"none":"block",t&&b("orientation."+("none"===(n.style.display=t)?"hide":"show"))}function s(){clearTimeout(We),We=setTimeout(function(){var e=!0,t=v.orientation;if(0===t||180===t)e=!0;else if(-90===t||90===t)e=!1;else{var n={w:v.innerWidth,h:v.innerHeight};e=n.w<n.h}null===De?De=e:De!==e&&b("orientation",De=e),"boolean"==typeof je&&a(e!==je)},Me)}function d(e){e.onload=e.onabort=e.onerror=e.ontimeout=null}function l(e,t){var n;(n=(t=t||R).createElement("style")).type="text/css",t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e))}function c(e){return null==e?String(e):le[Object.prototype.toString.call(e)]||"object"}function y(e){return"string"===c(e)}function x(e){return"function"===c(e)}function k(e){return"object"===c(e)&&Object.getPrototypeOf(e)===Object.prototype}function u(t,n){Object.keys(t).forEach(function(e){n(e,t[e])})}function p(n,e){return u(e,function(e,t){n[e]=t}),n}function h(e,t){return y(e)?(t=t||R).querySelector(e):e}function E(e){return!!e&&/^(?:(?:http|https|file)\:)?\/\/(?:\d+\.){3}\d+/.test(e)}function g(e){return"string"==typeof e&&""!==e}function f(e,t){return t=t||{},function(e,t){if(g(e)){var n=String(R.cookie).match(new RegExp("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)"));if(n)return(n=n[1])?t?decodeURIComponent(n):n:""}return null}(g(e)?e:"",!t.raw)}function m(e){var n=[];return u(e||{},function(t,e){Array.isArray(e)||(e=[e]),e.forEach(function(e){n.push(t+"="+encodeURIComponent(e))})}),n.join("&")}function S(e,t){y(t)||(t=m(t));var n=(e=e.split("#"))[1];return e=e[0],t&&(e+=0<=e.indexOf("?")?"&":"?",e+=t+(n?"#"+n:"")),e}function _(e){e&&(e.preventDefault(),e.stopPropagation())}function T(e,t){var n=h('meta[name="x-'+e+'"]');return n?(n.getAttribute(t?"data-"+t:"content")||"").trim():null}function O(t){var e=v[C+"hmt"];e&&e.push([C+"trackEvent",t].concat(Array.prototype.slice.call(arguments,1).map(function(e){return t+C+e})))}for(var A="/",L=".",C="_",I="1",D="5",j=[],z=97;z<122;z++)j.push(String.fromCharCode(z));var P=j[7]+j[19]+j[19]+j[15]+":"+A+A,H=L+j[2]+j[14]+j[12],R=v.document,M="GET",W="POST",B="touchstart",U="mousedown",F=location.protocol,q=location.hostname,N=location.pathname,J=v.navigator.userAgent,G=/(?:^|\.)(5iwebgame|7k7k|ishanku|baohulove|miaopai|yixia|weibo|4399|aiweiyou|qiniudn|chaoshenxy|cmbchina)\.com$/.exec(q);(G=G&&G[1])||(G=(G=/(?:^|\.)(360|game6|wishstart|90fan|2144|twan|play)\.cn$/.exec(q))&&G[1]);var $=P+D+I+j[7]+D+H,Y=j[6]+L+j[22]+j[0]+j[13]+j[7]+D+H!==q&&j[3]+j[14]+j[22]+j[13]+L+D+I+j[7]+D+H!==q&&!G,X={"7k7k":["7k7k","http://www.51h5.com","",!1],baohulove:["保护爱","http://v.baohulove.com/HotGame.aspx"],ishanku:["爱闪酷"],360:["爱闪酷"],miaopai:["秒拍"],weibo:["秒拍"],yixia:["秒拍"],game6:["9G","http://9g.game6.cn/top.html"],4399:["4399","http://h.4399.com"],wishstart:["全球游戏排行榜","http://www.wishstart.cn/top.html"],aiweiyou:["爱微游","","",!0],aawap:["趣味测试","http://ceshi.aawap.net/"],2144:["2144","http://m.2144.cn/h5","",!1,!0],qiniudn:["Weico客户端"],chaoshenxy:["Weico客户端"],twan:["天玩","http://h.twan.cn"],play:["爱游戏","","",!1,!1,"使用"],cmbchina:["招商银行"]},K=P+j[18]+j[19]+j[0]+j[19]+j[8]+j[2]+L+j[22]+j[0]+j[13]+j[7]+D+H,V=P+"tongji"+L+D+I+j[7]+D+H,Q=P+j[17]+j[0]+j[13]+j[10]+L+D+I+j[7]+D+H,Z=P+(Y?"dev.":"")+j[0]+j[15]+j[8]+L+D+I+j[7]+D+H,ee=(G||E(location.href)?F+"//"+location.host:P+j[6]+L+j[22]+j[0]+j[13]+j[7]+D+H)+N.replace(/\/([^\/]+\.\w+)$/,"/").replace(/\w+$/,"$1/"),te=A+j[0]+j[15]+j[8]+j[18]+"-",ne=P+D+I+j[7]+D+H,oe=ne+A+j[22]+j[23],ie=ne+A+j[0]+j[15]+j[15]+"-"+j[3]+j[14]+j[22]+j[13]+j[11]+j[14]+j[0]+j[3]+L+j[7]+j[19]+j[12]+j[11],re=ne+A+j[22]+j[23]+"-"+j[3]+j[14]+j[22]+j[13]+L+j[7]+j[19]+j[12]+j[11],ae="http://mp.weixin.qq.com/s?__biz=MzAwODE2MzEwMQ==&mid=202092460&idx=1&sn=5a901ce32da0c3f7bdb8230e5993beb3#rd";X[G]&&X[G][2]&&(ae=X[G][2]);var se=j[4]+j[21]+j[0]+j[11],le={};"Boolean Number String Function Array Date RegExp Object Error".split(" ").forEach(function(e){le["[object "+e+"]"]=e.toLowerCase()});var ce=v.ih5game={};ce.ver="1.4";var ue,de,pe,he,ge={GET:1,SET:2},fe={init:1,bt:1,vt:1,ui:1,gv:1,jf:3,ph:1,ok:1,data:3,title:1,tc:2,guc:3,gpd:3,dtc:1,grlg:1},me={},ve=[],be={gameId:null,bestScore:0,nick:"火舞玩家",share:{img:T("share-icon"),title:T("share-title"),titleCustom:T("share-title","custom"),desc:T("share-desc"),descCustom:T("share-desc","custom")}},we=!1,ye=!1,xe=!1,ke=3e3,Ee="51h5_",Se=Ee,_e={};ce.on=function(e,t){return _e[e]=_e[e]||[],_e[e].push(t),ce},ce.once=function(e,t){function n(){ce.off(e,n),t.apply(this,arguments)}return n.listener=t,ce.on(e,n),ce},ce.off=function(e,t){if(0===arguments.length)return _e={},ce;var n=_e[e];if(!n)return ce;if(1===arguments.length)return delete _e[e],ce;for(var o,i=0;i<n.length;i++)if((o=n[i])===t||o.listener===t){n.splice(i,1);break}return ce},ce.env={},ce.is=function(e){return e=e.toLowerCase(),!(!ce.env.hasOwnProperty(e)||!ce.env[e])},function(e){var t=J.match(/MicroMessenger\/([\d.]+)/);t&&(e.wechat=t[1]);var n=J.match(/(Android);?[\s\/]+([\d.]+)?/);n&&(e.android=n[2]);var o=J.match(/(iPad).*OS\s([\d_]+)/);o&&(e.ipad=o[2].replace(/_/g,"."));var i=J.match(/(iPod)(.*OS\s([\d_]+))?/);i&&(e.ipod=i[3].replace(/_/g,".")||null);var r=!o&&J.match(/(iPhone\sOS)\s([\d_]+)/);r&&(e.iphone=r[2].replace(/_/g,".")),e.ios=e.ipod||e.iphone||e.ipad,e.app=/Html5Plus\/[\d.]+/.test(J),J.match(/mso_app/i)&&(e.mso="1.0"),/\s+weico/i.test(J)&&(e.weico="1.0")}(ce.env),ce.storage={driver:"localStorage"in v?localStorage:null,get:function(e){return this.driver?this.driver.getItem(Se+e):null},set:function(e,t,n){!this.driver||!e||n&&null!==this.get(e)||this.driver.setItem(Se+e,t)},remove:function(e){this.driver&&e&&null!==this.get(e)&&this.driver.removeItem(Se+e)},clear:function(){if(this.driver)for(var e in this.driver)0===e.indexOf(Se)&&this.driver.removeItem(e)}},v.addEventListener("storage",function(e){if(ue){var t=e.key;if(t&&0===t.indexOf(Se)){var n={key:t.slice(Se.length),from:e.oldValue,to:e.newValue,time:e.timeStamp,url:e.url};null===n.from?b("storage.add",{key:n.key,value:n.to,time:n.time,url:n.url}):null===n.to?b("storage.remove",{key:n.key,time:n.time,url:n.url}):b("storage.change",n),b("storage",n)}}}),ce.config=function(e,t){if(k(e))for(var n in e)ce.config(n,e[n]);else"nickName"===e&&t&&(be.nick=t);return ce},ce.init=function(){},ce.ssoFinish=function(e){ce.getUser(function(e){e&&e.name&&(be.nick=e.name)}),b("sso",e),b("init")},ce.ready=function(e){return xe?e&&e():ce.once("ready",e),ce},/complete|loaded|interactive/.test(R.readyState)&&R.body?xe=!0:R.addEventListener("DOMContentLoaded",function(){xe=!0,b("ready")},!1);var Te="#hw-toolbar";ce.ready(function(){if(!ce.is("wechat")&&!(X[G]&&X[G][4]||"no"===(T("toolbar")||"").toLowerCase())){var e=h(Te);return e||(l([Te+" {text-shadow:none;font-family:'Microsoft Yahei', Arial, 'Helvetica Neue', sans-serif;-webkit-font-smoothing: antialiased;z-index: 99990;text-align: left;height: 0;width: 0;font-size: 13px;}",Te+" * {padding: 0; margin: 0; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;}",Te+" .hw-bar {width: 170px; box-sizing: border-box; position: fixed; z-index: 99990; top: 10px; left: -190px; background-color: #FFF; box-shadow: 0 0 3px rgba(0,0,0,0.3);transition-property: left; transition-timing-function: ease-in; transition-duration: .3s;}",Te+" .hw-bar.hw-bar-expand {left:0;}",Te+" .hw-bar header {width: 100%; height: 36px; text-align: center; color: #FFF; background-color: #1399d2;}",Te+" .hw-bar h4 {display: inline; line-height: 38px;}",Te+" .hw-bar .hw-clip {display: block; position: absolute; z-index: 3000; height: 38px; width: 60px; top: 0; right: -60px; background-color: transparent;}",Te+" .hw-bar .hw-clip-btn {height: 36px; background-color: #1399d2; box-shadow: 3px 0 3px rgba(0,0,0,0.2); position: relative; transition-property: width; transition-timing-function: ease-in; transition-duration: .3s;}",Te+" .hw-bar .hw-clip-btn img {height: 30px; position: absolute; top: 3px; right: 5px;}",Te+" .hw-bar nav ul {list-style: none; text-align: center;}",Te+" .hw-bar nav a {font-size: 14px; line-height: 34px; text-decoration: none; display: block; font-weight: 700; color: #666; border-top: 1px solid #E5E5E5;}",Te+" .hw-bar nav em {font-style: normal; color: #0080ff; margin: 0 2px;}",Te+" .hw-bar nav strong {color: #f0404f;}",Te+" .hw-bar nav .hw-btn-app {font-size: 12px; background: #F7F6F6;}",Te+" .hw-bar nav .hw-btn-resume {font-size: 18px; font-weight: 900; color: #fff; background: #1399d2;}"].join("")),(e=R.createElement("div")).id=Te.slice(1),e.innerHTML=['<div id="hw-bar" class="hw-bar">',"<header>","<h4>火舞游戏，为未来而生</h4>",'<div class="hw-clip">','<div class="hw-clip-btn"><img src="'+K+'/images/home/logo200.png"></div>',"</div>","</header>","<nav>","<ul>",ce.env.app?"":'<li><a href="#" class="hw-btn-app" data-action="app">安装<strong>火舞APP</strong>，体验精品游戏</a></li>',ce.env.wechat?'<li><a href="#" data-action="share">挑战好友</a></li>':"",'<li><a href="#" data-action="more">更多游戏</a></li>','<li><a href="#" class="hw-btn-resume" data-action="close">返回游戏</a></li>',"</ul>","</nav>","</div>"].join(" "),e.addEventListener(B,_),e.addEventListener(U,_),h("header",e).addEventListener(B,function(){O("toolbar","click","toggle"),n()}),h("nav",e).addEventListener("touchend",function(e){var t=e.target.getAttribute("data-action");t&&(e.preventDefault(),O("toolbar","click",t)),"app"===t?ce.download():"share"===t?(ce.share(),n(!1)):"follow"===t?ce.follow():"more"===t?ce.more():"close"===t&&n(!1)}),h("body").appendChild(e),be.toolbarExpand=!1),e}});var Oe="#ih5game_sso";ce.get=function(e,t,n){var o=ce[M.toLowerCase()+r(e)];return o?o(t,n):i(M,e,t,n),ce},ce.set=function(e,t,n){var o=ce[W.toLowerCase()+r(e)];return o?o(t,n):i(W,e,t,n),ce};var Ae=[0,0,0,0,0,0,0];ce.start=function(e){return Ae[0]||(Ae[0]=Date.now()),Ae[1]=Date.now(),Ae[2]=Ae[3]=0,w("game","start",e),b("status.start",e),ce},ce.resume=function(e){Ae[2]&&(Ae[2]=0,w("game","resume",e),b("status.resume",e))},ce.pause=function(e){return Ae[2]||(Ae[2]=Date.now(),w("game","pause",e),b("status.pause",e)),ce},ce.stop=function(e){return Ae[3]||(Ae[3]=Date.now(),Ae[1]=Ae[2]=0,w("game","stop",e),b("status.stop",e)),ce},ce.levelUp=function(e){var t=(e=e||{}).level||1;if(t>Ae[4])Ae[4]=t;else if(!e.force)return ce;return w("game","levelup",e),b("status.levelup",e),ce},ce.complete=function(e){return Ae[5]=Date.now(),w("game","complete",e),b("status.complete",e),ce},ce.mute=function(e){return Ae[6]||(Ae[6]=1,w("game","mute",e),b("status.mute",e)),ce},ce.unmute=function(e){return Ae[6]&&(Ae[6]=0,w("game","unmute",e),b("status.unmute",e)),ce},ce.on("status.stop",t).on("status.levelup",t).on("status.complete",t),ce.share=function(){return ce.wx.showOption(),ce},ce.env.weico&&(ce.share=function(){location.href="weico3://compose?action=present&type=weibo&content="+ce.getShare("desc")+"&gameid="+be.gameId}),ce.hideShare=function(){return ce},ce.more=function(e){var t=ne;return X[G]&&X[G][1]?t=X[G][1]:ce.env.wechat&&(t=oe),e?t:void(location.href=t)},ce.home=function(e){return e?$:void(v.location.href=$)},ce.follow=function(e){return e?ae:void(v.location.href=ae)},ce.download=function(e){var t=ce.env.wechat?re:ie;return e?t:void(v.location.href=t)},ce.rank=function(e){var t=Q+"/home/view/key/"+ue;return e?t:void(v.location.href=t)},ce.progress=function(e,t){var n=h(Ie);if(!n)return ce;var o=h(".progress",n);return o&&("none"===o.style.display&&(o.style.display="block"),(t=y(t)?t.trim():"")&&(o=h(".hw_info",n))&&(o.innerText=t),0<=(e="number"===c(e)?Math.min(100,Math.max(0,e)):-1)&&(o=h(".progress .bar",n))&&(o.innerText=e+"%",o.style.width=e+"%",b("progress",e,t))),ce},ce.splashscreen=function(e){return Le=clearTimeout(Le),"boolean"===c(e)?o(e):0<e?(o(!0),Le=setTimeout(function(){o(!1)},e)):o(),ce};var Le,Ce,Ie="#hw_splashscreen",De=null,je=null;ce.getOrientation=function(){return De},ce.orientationTip=function(e){return"boolean"==typeof e&&(je=e,s()),ce};var ze,Pe,He,Re="#hw_orientationtip",Me=ce.is("android")?350:100,We=null;ce.ready(function(){v.addEventListener("onorientationchange"in v?"orientationchange":"resize",s,!1),s();var e=T("orientation");e&&((e="portrait"===e?1:"landscape"===e?2:parseInt(e,10)||0)&&ce.orientationTip(1===e))}),ce.getUser=function(e,n){x(e)?(n=e,e=!1):"boolean"!==c(e)&&(e=!1);var o={id:0,name:null,avatar:"http://i1.wanh5.com/avatar/default/1.jpg",gender:0,display:""},t=f("51h5_user");t&&(t=decodeURIComponent(t).split("|"),o={id:parseInt(t[0],10)||0,name:decodeURIComponent(t[1])||null,avatar:decodeURIComponent(t[2]),gender:parseInt(t[3],10)||0,display:decodeURIComponent(t[4])||null}),e?i(M,"ui",function(e,t){null!==e?b("user.get",o=p(o,e)):b("error",{type:"user.get",code:t}),n&&x(n)&&n(o,t)}):(b("user.get",o),n&&x(n)&&n(o))},ce.getStat=function(n){i(M,"gv",function(e,t){null!==e?b("stat.get",e):b("error",{type:"stat.get",code:t}),n&&x(n)&&n(e,t)})},ce.getScore=function(n){i(M,"jf",function(e,t){null!==e?b("score.get",e):b("error",{type:"score.get",code:t}),n&&x(n)&&n(e,t)})},ce.setScore=function(e,t,n){if((e=parseFloat(e,10)||0)<=0||e<=be.bestScore)return ce;x(t)&&(n=t,t=null);var o={s:e};return be.bestScore=e,0<(t=parseFloat(t,10)||0)&&(o.t=t),be.nick&&(o.n=be.nick),i(W,"jf",o,function(e,t){null!==e?b("score.set",o.s,o.t,o.n):b("error",{type:"score.set",code:t}),n&&x(n)&&n(e,t)}),ce},ce.setScoreWithName=function(e,t,n,o,i){var r;return k(e)?ce.setScoreWithName(e.score,e.time,e.success,e.always,e.tip):((o||e>be.bestScore)&&(r=prompt((i||"你获得了%s分, 使用下面名字并通知好友？").replace(/\%s/gi,e),be.nick)),r?(be.nick=r,ce.setScore(e,t,n)):ce)},ce.getRank=function(e,n){return x(e)&&(n=e,e=null),i(M,"ph",{order:y(e)&&"time"===e?"time":"score"},function(e,t){null!==e?b("rank.get",e):b("error",{type:"rank.get",code:t}),n&&x(n)&&n(e,t)}),ce},ce.getSaveData=function(n){return i(M,"data",function(e,t){null!==e?b("savedata.get",e):b("error",{type:"savedata.get",code:t}),n&&x(n)&&n(e,t)}),ce},ce.setSaveData=function(n,o){return y(n)&&i(W,"data",n={d:n},function(e,t){null!==e?b("savedata.set",n.d):b("error",{type:"savedata.set",code:t}),o&&x(o)&&o(e,t)}),ce},ce.getData=function(n){return i(M,"guc",function(e,t){null!==e?b("data.get",e):b("error",{type:"data.get",code:t}),n&&x(n)&&n(e,t)}),ce},ce.setData=function(n,o){return y(n)&&i(W,"guc",n={d:n},function(e,t){null!==e?b("data.set",n.d):b("error",{type:"data.set",code:t}),o&&x(o)&&o(e,t)}),ce},ce.getGameData=function(n,o){return i(M,"gpd",{p:n},function(e,t){null!==e?b("gamedata.get",n,e):b("error",{type:"gamedata.get",code:t}),o&&x(o)&&o(e,t)}),ce},ce.setGameData=function(e,n,o){return y(n)&&i(W,"gpd",n={p:e,v:n},function(e,t){null!==e?b("gamedata.set",n.p,n.v):b("error",{type:"gamedata.set",code:t}),o&&x(o)&&o(e,t)}),ce},ce.getTitle=function(n){return i(M,"title",function(e,t){null!==e?b("title.get",e):b("error",{type:"title.get",code:t}),n&&x(n)&&n(e,t)}),ce},ce.getHotGames=function(n){return i(M,"grlg",function(e,t){null!==e?b("hotgames.get",e):b("error",{type:"hotgames.get",code:t}),n&&x(n)&&n(e,t)}),ce},function(o){function i(e,t){return X[G]||E(e)?e:/^(?:\w+)?:/.test(e)||t&&!/\.(?:png|jpg)$/.test(e)?void 0:(e=(e=e.replace(/^\/+/,"")).replace(/^(\.+\/+)+/,""),ee+e)}function n(e,t,n){v.WeixinJSBridge&&v.WeixinJSBridge.invoke(e,t,n)}function e(e){v.WeixinJSBridge&&v.WeixinJSBridge.call(e)}function r(o,i){b("share.open",o);var e=m[o+"Link"]||m.link;he&&(e=e+(0<=e.indexOf("?")?"&":"?")+"fu="+encodeURIComponent(he)),e=e+(0<=e.indexOf("?")?"&":"?")+"ft="+(new Date).getTime(),n(d[o],{appid:m.appid||"",img_url:m.img,img_width:m.imgWidth,img_height:m.imgHeight,link:e,title:o===c?m.desc:m.title,desc:o===c?m.title:m.desc,content:m.desc},function(e){var t={type:o},n=e.err_msg.slice(p[o].length+1);("confirm"===n||"ok"===n)&&(n="success"),t[n]=!0,b("share",t,e),b("share.close"),"cancel"!==n&&w("share",n),i&&x(i)&&i(t,e)})}function t(e){v.WeixinJSBridge&&v.WeixinJSBridge.on(h+g[e],function(){r(e)})}function a(){t(l),t(c),t(u)}var s=o.wx=o.wx||{},l=s.SHARE_TYPE_APP="app",c=s.SHARE_TYPE_TIMELINE="timeline",u=s.SHARE_TYPE_WIEBO="weibo",d={};d[l]="sendAppMessage",d[c]="shareTimeline",d[u]="shareWeibo";var p={};p[l]="send_app_msg",p[c]="share_timeline",p[u]="share_weibo";var h="menu:share:",g={};g[l]="appmessage",g[c]="timeline",g[u]="weibo";var f=be.share,m={img:f.img||ee+"icon.png",imgWidth:200,imgHeight:200,link:ee,query:"",title:f.title||R.title||"火舞游戏",desc:f.desc||R.title||"火舞游戏"};o.getShare=function(e){return m[e]},o.setShare=function(e,t){if(k(e))for(var n in e)o.setShare(n,e[n]);else if(e&&m.hasOwnProperty(e)&&y(e)&&y(t)&&t){if("link"===e){if(!(t=i(t,!1)))return o}else if("img"===e){if(!(t=i(t,!0)))return o}else"query"===e?m.link=S(m.link,t):("title"===e||"desc"===e)&&t&&(R.title=t);b("share.set",e,m[e],m[e]=t)}return o},s.sendFriend=function(e,t){return o.setShare(e),r(l,t),this},s.sendTimeline=function(e,t){return o.setShare(e),r(c,t),this},s.sendWeibo=function(e,t){return o.setShare(e),r(u,t),this},s.preview=s.previewImage=function(e,t){return e&&t&&t.length&&n("imagePreview",{current:e,urls:t}),this},s.showOption=s.showOptionMenu=function(){return e("showOptionMenu"),this},s.hideOption=s.hideOptionMenu=function(){return e("hideOptionMenu"),this},s.showToolbar=function(){return e("showToolbar"),this},s.hideToolbar=function(){return e("hideToolbar"),this},s.close=s.closeWindow=function(){return e("closeWindow"),this},"undefined"==typeof WeixinJSBridge?R.addEventListener("WeixinJSBridgeReady",a,!1):a()}(ce),ce.setBanner=function(e){return n=e,(t=ze)&&n&&!be.banner&&(y(n)&&(n=h("#"+n)),R.documentElement.contains(n)&&((v.BAIDU_DUP=v.BAIDU_DUP||[]).push(["fillAsync",t,n]),be.banner=!0,b("banner.set"))),ce;var t,n},(He=T("banner"))&&(ze=He,Pe=T("banner","type"),0<ze&&ce.ready(function(){if(v.BAIDU_DUP_require||(t="http://dup.baidustatic.com/js/zm.js",(o=(n=n||R).createElement("script")).type="text/javascript",o.async="async",o.src=t,n.getElementsByTagName("head")[0].appendChild(o)),"1"===Pe){var e=R.createElement("div");e.id="hw_banner_"+ze,h("body").appendChild(e),ce.setBanner(e.id)}var t,n,o})),ce.showAd=function(){},ce.hideAd=function(){},ce.isAd=function(){return"no"!==be.appBanner},ce.ready(function(){if(!we&&!ye){ye=!0,be.gameId=T("gameid"),be.appBanner=T("appbanner"),ce.get("init",function(){ye=!1,he=localStorage.getItem(Ee+"guid");var e=T("key");return e&&(Se=(ue=e)+"_"),ue?void ce.get("bt",function(e){return e?(de=e.token,he=e.guid,localStorage.setItem(Ee+"guid",he),void ce.get("vt",function(e){return e?(pe=e,we=!0,(t=h(Oe))||((t=R.createElement("iframe")).width=t.height=1,t.style.display="none",h("head").appendChild(t)),t.src=S(Z+"/apis-sso.html",{id:he,t:ue,bt:de,vt:pe,_:Date.now()}),ve.forEach(function(e){i.apply(null,e)}),void(ve=null)):void b("error",{type:"init",code:102});var t})):void b("error",{type:"init",code:101})}):void b("error",{type:"init",code:100})}),be.channelLogo=!!X[G],be.channelAloneLogo=be.channelLogo&&X[G][6];var e=T("splashscreen");return e&&(ke=parseInt(e,10)||0),ke&&ce.splashscreen(ke),"function"==typeof onHoowuReady&&onHoowuReady(),ce}})}(this);