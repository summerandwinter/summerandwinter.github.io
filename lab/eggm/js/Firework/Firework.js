function Firework(t,s,i,e,h){this.x=s,this.y=i,this.sx=s,this.sy=i,this.tx=e,this.ty=h,this.distanceToTarget=calculateDistance(s,i,e,h),this.distanceTraveled=0,this.coordinates=[],this.coordinateCount=3;for(var a=0;a<this.coordinateCount;a++)this.coordinates.push([this.x,this.y]);this.angle=Math.atan2(h-i,e-s),this.speed=10,this.acceleration=1.05,this.brightness=random(50,70),this.targetRadius=1,this.update=function(t){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.acceleration;var s=Math.cos(this.angle)*this.speed,i=Math.sin(this.angle)*this.speed;this.distanceTraveled=calculateDistance(this.sx,this.sy,this.x+s,this.y+i),this.distanceTraveled>=this.distanceToTarget?(hue+=random(10,100),game.fireworkLaunch(),game.createParticles(this.tx,this.ty),fireworks.splice(t,1)):(this.x+=s,this.y+=i)},this.draw=function(){t.beginPath(),t.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]),t.lineTo(this.x,this.y),t.strokeStyle="hsl("+hue+", 100%, "+this.brightness+"%)",t.stroke()}}