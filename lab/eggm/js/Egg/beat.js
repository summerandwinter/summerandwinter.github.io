function Beat(t){var i;i=getRes("beat"),this.stageW=t.canvas.width,this.stageH=t.canvas.height,this.x=(this.stageW-i.width)/2+1*i.width,this.y=(this.stageH-i.height)/2-.8*i.height,this.count=2,this.maxCount=3,this.angle=-10,this.minAngle=-10,this.limitMinAngle=-30,this.maxAngle=10,this.vAngle=1,this.status=0,this.scale=1,this.vScale=.05,this.maxScale=1.5,this.textX=this.stageW/2,this.textY=3*this.stageH/4-100,this.draw=function(){t.save(),t.translate(this.x+i.width,this.y+i.height),t.scale(this.scale,this.scale),t.rotate(angle2Degree(this.angle)),t.translate(-(this.x+i.width),-(this.y+i.height)),t.drawImage(i.image,this.x,this.y,i.width,i.height),t.translate(this.x+i.width,this.y+i.height),t.rotate(angle2Degree(-this.angle)),t.translate(-(this.x+i.width),-(this.y+i.height)),t.restore()},this.update=function(){this.status||(this.angle=this.angle+this.vAngle,0<=this.vAngle?this.angle>this.maxAngle&&(this.angle=this.maxAngle,this.vAngle=-this.vAngle,this.count++):this.count>=this.maxCount&&0==this.status?(this.vAngle*=1.1,this.scale<this.maxScale?this.scale+=this.vScale:this.scale=this.maxScale,this.angle<this.limitMinAngle&&(this.angle=this.limitMinAngle,this.vAngle=-this.vAngle,this.status=1,this.scale=1)):this.angle<this.minAngle&&(this.angle=this.minAngle,this.vAngle=-this.vAngle))}}